{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":174},"end":{"line":7,"column":69,"index":243}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.isWebPushSupported = isWebPushSupported;\n  exports.getNotificationPermission = getNotificationPermission;\n  exports.registerServiceWorker = registerServiceWorker;\n  exports.requestNotificationPermission = requestNotificationPermission;\n  exports.subscribeToWebPush = subscribeToWebPush;\n  exports.unsubscribeFromWebPush = unsubscribeFromWebPush;\n  exports.isSubscribedToWebPush = isSubscribedToWebPush;\n  exports.initWebPushIfPermitted = initWebPushIfPermitted;\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * Servei de Web Push Notifications per El Tomb de Reus\n   * Gestiona el registre del Service Worker i les subscripcions push\n   */\n\n  const API_BASE = '/api';\n\n  /**\n   * Converteix una clau base64 URL-safe a Uint8Array\n   */\n  function urlBase64ToUint8Array(base64String) {\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\n    const base64 = (base64String + padding).replace(/-/g, '+').replace(/_/g, '/');\n    const rawData = window.atob(base64);\n    const outputArray = new Uint8Array(rawData.length);\n    for (let i = 0; i < rawData.length; ++i) {\n      outputArray[i] = rawData.charCodeAt(i);\n    }\n    return outputArray;\n  }\n\n  /**\n   * Verifica si el navegador suporta Web Push\n   */\n  function isWebPushSupported() {\n    if (Platform.default.OS !== 'web') return false;\n    return 'serviceWorker' in navigator && 'PushManager' in window && 'Notification' in window;\n  }\n\n  /**\n   * Verifica l'estat actual de les notificacions\n   */\n  function getNotificationPermission() {\n    if (Platform.default.OS !== 'web' || !('Notification' in window)) return null;\n    return Notification.permission;\n  }\n\n  /**\n   * Registra el Service Worker\n   */\n  async function registerServiceWorker() {\n    if (Platform.default.OS !== 'web' || !('serviceWorker' in navigator)) {\n      console.log('[WebPush] Service Worker no suportat');\n      return null;\n    }\n    try {\n      const registration = await navigator.serviceWorker.register('/sw.js', {\n        scope: '/'\n      });\n      console.log('[WebPush] Service Worker registrat:', registration.scope);\n      return registration;\n    } catch (error) {\n      console.error('[WebPush] Error registrant Service Worker:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Sol·licita permís per notificacions\n   */\n  async function requestNotificationPermission() {\n    if (Platform.default.OS !== 'web' || !('Notification' in window)) {\n      return 'denied';\n    }\n    const permission = await Notification.requestPermission();\n    console.log('[WebPush] Permís de notificacions:', permission);\n    return permission;\n  }\n\n  /**\n   * Obté la clau pública VAPID del servidor\n   */\n  async function getVapidPublicKey() {\n    try {\n      const response = await fetch(`${API_BASE}/web-push/vapid-public-key`);\n      if (!response.ok) {\n        throw new Error('No s\\'ha pogut obtenir la clau VAPID');\n      }\n      const data = await response.json();\n      return data.vapidPublicKey;\n    } catch (error) {\n      console.error('[WebPush] Error obtenint clau VAPID:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Subscriu l'usuari a les notificacions Web Push\n   */\n  async function subscribeToWebPush(authToken) {\n    if (!isWebPushSupported()) {\n      console.log('[WebPush] Web Push no suportat');\n      return false;\n    }\n    try {\n      // 1. Registrar Service Worker\n      const registration = await registerServiceWorker();\n      if (!registration) {\n        throw new Error('No s\\'ha pogut registrar el Service Worker');\n      }\n\n      // 2. Sol·licitar permís\n      const permission = await requestNotificationPermission();\n      if (permission !== 'granted') {\n        console.log('[WebPush] Permís de notificacions no concedit');\n        return false;\n      }\n\n      // 3. Obtenir clau VAPID\n      const vapidPublicKey = await getVapidPublicKey();\n      if (!vapidPublicKey) {\n        throw new Error('No s\\'ha pogut obtenir la clau VAPID');\n      }\n\n      // 4. Crear subscripció push\n      const subscription = await registration.pushManager.subscribe({\n        userVisibleOnly: true,\n        applicationServerKey: urlBase64ToUint8Array(vapidPublicKey)\n      });\n      console.log('[WebPush] Subscripció creada:', subscription.endpoint);\n\n      // 5. Enviar subscripció al servidor\n      const subscriptionJson = subscription.toJSON();\n      const response = await fetch(`${API_BASE}/web-push/subscribe`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': authToken\n        },\n        body: JSON.stringify({\n          endpoint: subscription.endpoint,\n          keys: {\n            p256dh: subscriptionJson.keys?.p256dh,\n            auth: subscriptionJson.keys?.auth\n          }\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Error guardant subscripció al servidor');\n      }\n\n      // 6. Guardar estat local\n      await AsyncStorage.default.setItem('web_push_subscribed', 'true');\n      console.log('[WebPush] ✅ Subscripció completada amb èxit');\n      return true;\n    } catch (error) {\n      console.error('[WebPush] Error subscrivint:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Dessubscriu l'usuari de les notificacions Web Push\n   */\n  async function unsubscribeFromWebPush(authToken) {\n    if (Platform.default.OS !== 'web') return false;\n    try {\n      const registration = await navigator.serviceWorker.ready;\n      const subscription = await registration.pushManager.getSubscription();\n      if (subscription) {\n        await subscription.unsubscribe();\n      }\n\n      // Eliminar del servidor\n      await fetch(`${API_BASE}/web-push/unsubscribe`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': authToken\n        }\n      });\n      await AsyncStorage.default.removeItem('web_push_subscribed');\n      console.log('[WebPush] Dessubscrit correctament');\n      return true;\n    } catch (error) {\n      console.error('[WebPush] Error dessubscrivint:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Verifica si l'usuari ja està subscrit\n   */\n  async function isSubscribedToWebPush() {\n    if (Platform.default.OS !== 'web' || !('serviceWorker' in navigator)) {\n      return false;\n    }\n    try {\n      const registration = await navigator.serviceWorker.ready;\n      const subscription = await registration.pushManager.getSubscription();\n      return subscription !== null;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Inicialitza Web Push automàticament si l'usuari ja ha donat permís\n   */\n  async function initWebPushIfPermitted(authToken) {\n    if (!isWebPushSupported()) return;\n    const permission = getNotificationPermission();\n    if (permission === 'granted') {\n      const isSubscribed = await isSubscribedToWebPush();\n      if (!isSubscribed) {\n        console.log('[WebPush] Re-subscrivint usuari amb permís existent...');\n        await subscribeToWebPush(authToken);\n      }\n    }\n  }\n});","lineCount":233,"map":[[12,2,32,0,"exports"],[12,9,32,0],[12,10,32,0,"isWebPushSupported"],[12,28,32,0],[12,31,32,0,"isWebPushSupported"],[12,49,32,0],[13,2,45,0,"exports"],[13,9,45,0],[13,10,45,0,"getNotificationPermission"],[13,35,45,0],[13,38,45,0,"getNotificationPermission"],[13,63,45,0],[14,2,53,0,"exports"],[14,9,53,0],[14,10,53,0,"registerServiceWorker"],[14,31,53,0],[14,34,53,0,"registerServiceWorker"],[14,55,53,0],[15,2,75,0,"exports"],[15,9,75,0],[15,10,75,0,"requestNotificationPermission"],[15,39,75,0],[15,42,75,0,"requestNotificationPermission"],[15,71,75,0],[16,2,105,0,"exports"],[16,9,105,0],[16,10,105,0,"subscribeToWebPush"],[16,28,105,0],[16,31,105,0,"subscribeToWebPush"],[16,49,105,0],[17,2,175,0,"exports"],[17,9,175,0],[17,10,175,0,"unsubscribeFromWebPush"],[17,32,175,0],[17,35,175,0,"unsubscribeFromWebPush"],[17,57,175,0],[18,2,208,0,"exports"],[18,9,208,0],[18,10,208,0,"isSubscribedToWebPush"],[18,31,208,0],[18,34,208,0,"isSubscribedToWebPush"],[18,55,208,0],[19,2,225,0,"exports"],[19,9,225,0],[19,10,225,0,"initWebPushIfPermitted"],[19,32,225,0],[19,35,225,0,"initWebPushIfPermitted"],[19,57,225,0],[20,2,236,1],[20,6,236,1,"_reactNativeWebDistExportsPlatform"],[20,40,236,1],[20,43,236,1,"require"],[20,50,236,1],[20,51,236,1,"_dependencyMap"],[20,65,236,1],[21,2,236,1],[21,6,236,1,"Platform"],[21,14,236,1],[21,17,236,1,"_interopDefault"],[21,32,236,1],[21,33,236,1,"_reactNativeWebDistExportsPlatform"],[21,67,236,1],[22,2,7,0],[22,6,7,0,"_reactNativeAsyncStorageAsyncStorage"],[22,42,7,0],[22,45,7,0,"require"],[22,52,7,0],[22,53,7,0,"_dependencyMap"],[22,67,7,0],[23,2,7,0],[23,6,7,0,"AsyncStorage"],[23,18,7,0],[23,21,7,0,"_interopDefault"],[23,36,7,0],[23,37,7,0,"_reactNativeAsyncStorageAsyncStorage"],[23,73,7,0],[24,2,1,0],[25,0,2,0],[26,0,3,0],[27,0,4,0],[29,2,9,0],[29,8,9,6,"API_BASE"],[29,16,9,14],[29,19,9,17],[29,25,9,23],[31,2,11,0],[32,0,12,0],[33,0,13,0],[34,2,14,0],[34,11,14,9,"urlBase64ToUint8Array"],[34,32,14,30,"urlBase64ToUint8Array"],[34,33,14,31,"base64String"],[34,45,14,51],[34,47,14,65],[35,4,15,2],[35,10,15,8,"padding"],[35,17,15,15],[35,20,15,18],[35,23,15,21],[35,24,15,22,"repeat"],[35,30,15,28],[35,31,15,29],[35,32,15,30],[35,33,15,31],[35,36,15,34,"base64String"],[35,48,15,46],[35,49,15,47,"length"],[35,55,15,53],[35,58,15,56],[35,59,15,57],[35,63,15,61],[35,64,15,62],[35,65,15,63],[36,4,16,2],[36,10,16,8,"base64"],[36,16,16,14],[36,19,16,17],[36,20,16,18,"base64String"],[36,32,16,30],[36,35,16,33,"padding"],[36,42,16,40],[36,44,17,5,"replace"],[36,51,17,12],[36,52,17,13],[36,56,17,17],[36,58,17,19],[36,61,17,22],[36,62,17,23],[36,63,18,5,"replace"],[36,70,18,12],[36,71,18,13],[36,75,18,17],[36,77,18,19],[36,80,18,22],[36,81,18,23],[37,4,20,2],[37,10,20,8,"rawData"],[37,17,20,15],[37,20,20,18,"window"],[37,26,20,24],[37,27,20,25,"atob"],[37,31,20,29],[37,32,20,30,"base64"],[37,38,20,36],[37,39,20,37],[38,4,21,2],[38,10,21,8,"outputArray"],[38,21,21,19],[38,24,21,22],[38,28,21,26,"Uint8Array"],[38,38,21,36],[38,39,21,37,"rawData"],[38,46,21,44],[38,47,21,45,"length"],[38,53,21,51],[38,54,21,52],[39,4,23,2],[39,9,23,7],[39,13,23,11,"i"],[39,14,23,12],[39,17,23,15],[39,18,23,16],[39,20,23,18,"i"],[39,21,23,19],[39,24,23,22,"rawData"],[39,31,23,29],[39,32,23,30,"length"],[39,38,23,36],[39,40,23,38],[39,42,23,40,"i"],[39,43,23,41],[39,45,23,43],[40,6,24,4,"outputArray"],[40,17,24,15],[40,18,24,16,"i"],[40,19,24,17],[40,20,24,18],[40,23,24,21,"rawData"],[40,30,24,28],[40,31,24,29,"charCodeAt"],[40,41,24,39],[40,42,24,40,"i"],[40,43,24,41],[40,44,24,42],[41,4,25,2],[42,4,26,2],[42,11,26,9,"outputArray"],[42,22,26,20],[43,2,27,0],[45,2,29,0],[46,0,30,0],[47,0,31,0],[48,2,32,7],[48,11,32,16,"isWebPushSupported"],[48,29,32,34,"isWebPushSupported"],[48,30,32,34],[48,32,32,46],[49,4,33,2],[49,8,33,6,"Platform"],[49,16,33,14],[49,17,33,14,"default"],[49,24,33,14],[49,25,33,15,"OS"],[49,27,33,17],[49,32,33,22],[49,37,33,27],[49,39,33,29],[49,46,33,36],[49,51,33,41],[50,4,35,2],[50,11,36,4],[50,26,36,19],[50,30,36,23,"navigator"],[50,39,36,32],[50,43,37,4],[50,56,37,17],[50,60,37,21,"window"],[50,66,37,27],[50,70,38,4],[50,84,38,18],[50,88,38,22,"window"],[50,94,38,28],[51,2,40,0],[53,2,42,0],[54,0,43,0],[55,0,44,0],[56,2,45,7],[56,11,45,16,"getNotificationPermission"],[56,36,45,41,"getNotificationPermission"],[56,37,45,41],[56,39,45,75],[57,4,46,2],[57,8,46,6,"Platform"],[57,16,46,14],[57,17,46,14,"default"],[57,24,46,14],[57,25,46,15,"OS"],[57,27,46,17],[57,32,46,22],[57,37,46,27],[57,41,46,31],[57,43,46,33],[57,57,46,47],[57,61,46,51,"window"],[57,67,46,57],[57,68,46,58],[57,70,46,60],[57,77,46,67],[57,81,46,71],[58,4,47,2],[58,11,47,9,"Notification"],[58,23,47,21],[58,24,47,22,"permission"],[58,34,47,32],[59,2,48,0],[61,2,50,0],[62,0,51,0],[63,0,52,0],[64,2,53,7],[64,17,53,22,"registerServiceWorker"],[64,38,53,43,"registerServiceWorker"],[64,39,53,43],[64,41,53,89],[65,4,54,2],[65,8,54,6,"Platform"],[65,16,54,14],[65,17,54,14,"default"],[65,24,54,14],[65,25,54,15,"OS"],[65,27,54,17],[65,32,54,22],[65,37,54,27],[65,41,54,31],[65,43,54,33],[65,58,54,48],[65,62,54,52,"navigator"],[65,71,54,61],[65,72,54,62],[65,74,54,64],[66,6,55,4,"console"],[66,13,55,11],[66,14,55,12,"log"],[66,17,55,15],[66,18,55,16],[66,56,55,54],[66,57,55,55],[67,6,56,4],[67,13,56,11],[67,17,56,15],[68,4,57,2],[69,4,59,2],[69,8,59,6],[70,6,60,4],[70,12,60,10,"registration"],[70,24,60,22],[70,27,60,25],[70,33,60,31,"navigator"],[70,42,60,40],[70,43,60,41,"serviceWorker"],[70,56,60,54],[70,57,60,55,"register"],[70,65,60,63],[70,66,60,64],[70,74,60,72],[70,76,60,74],[71,8,61,6,"scope"],[71,13,61,11],[71,15,61,13],[72,6,62,4],[72,7,62,5],[72,8,62,6],[73,6,64,4,"console"],[73,13,64,11],[73,14,64,12,"log"],[73,17,64,15],[73,18,64,16],[73,55,64,53],[73,57,64,55,"registration"],[73,69,64,67],[73,70,64,68,"scope"],[73,75,64,73],[73,76,64,74],[74,6,65,4],[74,13,65,11,"registration"],[74,25,65,23],[75,4,66,2],[75,5,66,3],[75,6,66,4],[75,13,66,11,"error"],[75,18,66,16],[75,20,66,18],[76,6,67,4,"console"],[76,13,67,11],[76,14,67,12,"error"],[76,19,67,17],[76,20,67,18],[76,64,67,62],[76,66,67,64,"error"],[76,71,67,69],[76,72,67,70],[77,6,68,4],[77,13,68,11],[77,17,68,15],[78,4,69,2],[79,2,70,0],[81,2,72,0],[82,0,73,0],[83,0,74,0],[84,2,75,7],[84,17,75,22,"requestNotificationPermission"],[84,46,75,51,"requestNotificationPermission"],[84,47,75,51],[84,49,75,87],[85,4,76,2],[85,8,76,6,"Platform"],[85,16,76,14],[85,17,76,14,"default"],[85,24,76,14],[85,25,76,15,"OS"],[85,27,76,17],[85,32,76,22],[85,37,76,27],[85,41,76,31],[85,43,76,33],[85,57,76,47],[85,61,76,51,"window"],[85,67,76,57],[85,68,76,58],[85,70,76,60],[86,6,77,4],[86,13,77,11],[86,21,77,19],[87,4,78,2],[88,4,80,2],[88,10,80,8,"permission"],[88,20,80,18],[88,23,80,21],[88,29,80,27,"Notification"],[88,41,80,39],[88,42,80,40,"requestPermission"],[88,59,80,57],[88,60,80,58],[88,61,80,59],[89,4,81,2,"console"],[89,11,81,9],[89,12,81,10,"log"],[89,15,81,13],[89,16,81,14],[89,52,81,50],[89,54,81,52,"permission"],[89,64,81,62],[89,65,81,63],[90,4,82,2],[90,11,82,9,"permission"],[90,21,82,19],[91,2,83,0],[93,2,85,0],[94,0,86,0],[95,0,87,0],[96,2,88,0],[96,17,88,15,"getVapidPublicKey"],[96,34,88,32,"getVapidPublicKey"],[96,35,88,32],[96,37,88,59],[97,4,89,2],[97,8,89,6],[98,6,90,4],[98,12,90,10,"response"],[98,20,90,18],[98,23,90,21],[98,29,90,27,"fetch"],[98,34,90,32],[98,35,90,33],[98,38,90,36,"API_BASE"],[98,46,90,44],[98,74,90,72],[98,75,90,73],[99,6,91,4],[99,10,91,8],[99,11,91,9,"response"],[99,19,91,17],[99,20,91,18,"ok"],[99,22,91,20],[99,24,91,22],[100,8,92,6],[100,14,92,12],[100,18,92,16,"Error"],[100,23,92,21],[100,24,92,22],[100,62,92,60],[100,63,92,61],[101,6,93,4],[102,6,94,4],[102,12,94,10,"data"],[102,16,94,14],[102,19,94,17],[102,25,94,23,"response"],[102,33,94,31],[102,34,94,32,"json"],[102,38,94,36],[102,39,94,37],[102,40,94,38],[103,6,95,4],[103,13,95,11,"data"],[103,17,95,15],[103,18,95,16,"vapidPublicKey"],[103,32,95,30],[104,4,96,2],[104,5,96,3],[104,6,96,4],[104,13,96,11,"error"],[104,18,96,16],[104,20,96,18],[105,6,97,4,"console"],[105,13,97,11],[105,14,97,12,"error"],[105,19,97,17],[105,20,97,18],[105,58,97,56],[105,60,97,58,"error"],[105,65,97,63],[105,66,97,64],[106,6,98,4],[106,13,98,11],[106,17,98,15],[107,4,99,2],[108,2,100,0],[110,2,102,0],[111,0,103,0],[112,0,104,0],[113,2,105,7],[113,17,105,22,"subscribeToWebPush"],[113,35,105,40,"subscribeToWebPush"],[113,36,105,41,"authToken"],[113,45,105,58],[113,47,105,78],[114,4,106,2],[114,8,106,6],[114,9,106,7,"isWebPushSupported"],[114,27,106,25],[114,28,106,26],[114,29,106,27],[114,31,106,29],[115,6,107,4,"console"],[115,13,107,11],[115,14,107,12,"log"],[115,17,107,15],[115,18,107,16],[115,50,107,48],[115,51,107,49],[116,6,108,4],[116,13,108,11],[116,18,108,16],[117,4,109,2],[118,4,111,2],[118,8,111,6],[119,6,112,4],[120,6,113,4],[120,12,113,10,"registration"],[120,24,113,22],[120,27,113,25],[120,33,113,31,"registerServiceWorker"],[120,54,113,52],[120,55,113,53],[120,56,113,54],[121,6,114,4],[121,10,114,8],[121,11,114,9,"registration"],[121,23,114,21],[121,25,114,23],[122,8,115,6],[122,14,115,12],[122,18,115,16,"Error"],[122,23,115,21],[122,24,115,22],[122,68,115,66],[122,69,115,67],[123,6,116,4],[125,6,118,4],[126,6,119,4],[126,12,119,10,"permission"],[126,22,119,20],[126,25,119,23],[126,31,119,29,"requestNotificationPermission"],[126,60,119,58],[126,61,119,59],[126,62,119,60],[127,6,120,4],[127,10,120,8,"permission"],[127,20,120,18],[127,25,120,23],[127,34,120,32],[127,36,120,34],[128,8,121,6,"console"],[128,15,121,13],[128,16,121,14,"log"],[128,19,121,17],[128,20,121,18],[128,67,121,65],[128,68,121,66],[129,8,122,6],[129,15,122,13],[129,20,122,18],[130,6,123,4],[132,6,125,4],[133,6,126,4],[133,12,126,10,"vapidPublicKey"],[133,26,126,24],[133,29,126,27],[133,35,126,33,"getVapidPublicKey"],[133,52,126,50],[133,53,126,51],[133,54,126,52],[134,6,127,4],[134,10,127,8],[134,11,127,9,"vapidPublicKey"],[134,25,127,23],[134,27,127,25],[135,8,128,6],[135,14,128,12],[135,18,128,16,"Error"],[135,23,128,21],[135,24,128,22],[135,62,128,60],[135,63,128,61],[136,6,129,4],[138,6,131,4],[139,6,132,4],[139,12,132,10,"subscription"],[139,24,132,22],[139,27,132,25],[139,33,132,31,"registration"],[139,45,132,43],[139,46,132,44,"pushManager"],[139,57,132,55],[139,58,132,56,"subscribe"],[139,67,132,65],[139,68,132,66],[140,8,133,6,"userVisibleOnly"],[140,23,133,21],[140,25,133,23],[140,29,133,27],[141,8,134,6,"applicationServerKey"],[141,28,134,26],[141,30,134,28,"urlBase64ToUint8Array"],[141,51,134,49],[141,52,134,50,"vapidPublicKey"],[141,66,134,64],[142,6,135,4],[142,7,135,5],[142,8,135,6],[143,6,137,4,"console"],[143,13,137,11],[143,14,137,12,"log"],[143,17,137,15],[143,18,137,16],[143,49,137,47],[143,51,137,49,"subscription"],[143,63,137,61],[143,64,137,62,"endpoint"],[143,72,137,70],[143,73,137,71],[145,6,139,4],[146,6,140,4],[146,12,140,10,"subscriptionJson"],[146,28,140,26],[146,31,140,29,"subscription"],[146,43,140,41],[146,44,140,42,"toJSON"],[146,50,140,48],[146,51,140,49],[146,52,140,50],[147,6,141,4],[147,12,141,10,"response"],[147,20,141,18],[147,23,141,21],[147,29,141,27,"fetch"],[147,34,141,32],[147,35,141,33],[147,38,141,36,"API_BASE"],[147,46,141,44],[147,67,141,65],[147,69,141,67],[148,8,142,6,"method"],[148,14,142,12],[148,16,142,14],[148,22,142,20],[149,8,143,6,"headers"],[149,15,143,13],[149,17,143,15],[150,10,144,8],[150,24,144,22],[150,26,144,24],[150,44,144,42],[151,10,145,8],[151,25,145,23],[151,27,145,25,"authToken"],[152,8,146,6],[152,9,146,7],[153,8,147,6,"body"],[153,12,147,10],[153,14,147,12,"JSON"],[153,18,147,16],[153,19,147,17,"stringify"],[153,28,147,26],[153,29,147,27],[154,10,148,8,"endpoint"],[154,18,148,16],[154,20,148,18,"subscription"],[154,32,148,30],[154,33,148,31,"endpoint"],[154,41,148,39],[155,10,149,8,"keys"],[155,14,149,12],[155,16,149,14],[156,12,150,10,"p256dh"],[156,18,150,16],[156,20,150,18,"subscriptionJson"],[156,36,150,34],[156,37,150,35,"keys"],[156,41,150,39],[156,43,150,41,"p256dh"],[156,49,150,47],[157,12,151,10,"auth"],[157,16,151,14],[157,18,151,16,"subscriptionJson"],[157,34,151,32],[157,35,151,33,"keys"],[157,39,151,37],[157,41,151,39,"auth"],[158,10,152,8],[159,8,153,6],[159,9,153,7],[160,6,154,4],[160,7,154,5],[160,8,154,6],[161,6,156,4],[161,10,156,8],[161,11,156,9,"response"],[161,19,156,17],[161,20,156,18,"ok"],[161,22,156,20],[161,24,156,22],[162,8,157,6],[162,14,157,12],[162,18,157,16,"Error"],[162,23,157,21],[162,24,157,22],[162,64,157,62],[162,65,157,63],[163,6,158,4],[165,6,160,4],[166,6,161,4],[166,12,161,10,"AsyncStorage"],[166,24,161,22],[166,25,161,22,"default"],[166,32,161,22],[166,33,161,23,"setItem"],[166,40,161,30],[166,41,161,31],[166,62,161,52],[166,64,161,54],[166,70,161,60],[166,71,161,61],[167,6,163,4,"console"],[167,13,163,11],[167,14,163,12,"log"],[167,17,163,15],[167,18,163,16],[167,63,163,61],[167,64,163,62],[168,6,164,4],[168,13,164,11],[168,17,164,15],[169,4,166,2],[169,5,166,3],[169,6,166,4],[169,13,166,11,"error"],[169,18,166,16],[169,20,166,18],[170,6,167,4,"console"],[170,13,167,11],[170,14,167,12,"error"],[170,19,167,17],[170,20,167,18],[170,50,167,48],[170,52,167,50,"error"],[170,57,167,55],[170,58,167,56],[171,6,168,4],[171,13,168,11],[171,18,168,16],[172,4,169,2],[173,2,170,0],[175,2,172,0],[176,0,173,0],[177,0,174,0],[178,2,175,7],[178,17,175,22,"unsubscribeFromWebPush"],[178,39,175,44,"unsubscribeFromWebPush"],[178,40,175,45,"authToken"],[178,49,175,62],[178,51,175,82],[179,4,176,2],[179,8,176,6,"Platform"],[179,16,176,14],[179,17,176,14,"default"],[179,24,176,14],[179,25,176,15,"OS"],[179,27,176,17],[179,32,176,22],[179,37,176,27],[179,39,176,29],[179,46,176,36],[179,51,176,41],[180,4,178,2],[180,8,178,6],[181,6,179,4],[181,12,179,10,"registration"],[181,24,179,22],[181,27,179,25],[181,33,179,31,"navigator"],[181,42,179,40],[181,43,179,41,"serviceWorker"],[181,56,179,54],[181,57,179,55,"ready"],[181,62,179,60],[182,6,180,4],[182,12,180,10,"subscription"],[182,24,180,22],[182,27,180,25],[182,33,180,31,"registration"],[182,45,180,43],[182,46,180,44,"pushManager"],[182,57,180,55],[182,58,180,56,"getSubscription"],[182,73,180,71],[182,74,180,72],[182,75,180,73],[183,6,182,4],[183,10,182,8,"subscription"],[183,22,182,20],[183,24,182,22],[184,8,183,6],[184,14,183,12,"subscription"],[184,26,183,24],[184,27,183,25,"unsubscribe"],[184,38,183,36],[184,39,183,37],[184,40,183,38],[185,6,184,4],[187,6,186,4],[188,6,187,4],[188,12,187,10,"fetch"],[188,17,187,15],[188,18,187,16],[188,21,187,19,"API_BASE"],[188,29,187,27],[188,52,187,50],[188,54,187,52],[189,8,188,6,"method"],[189,14,188,12],[189,16,188,14],[189,24,188,22],[190,8,189,6,"headers"],[190,15,189,13],[190,17,189,15],[191,10,190,8],[191,25,190,23],[191,27,190,25,"authToken"],[192,8,191,6],[193,6,192,4],[193,7,192,5],[193,8,192,6],[194,6,194,4],[194,12,194,10,"AsyncStorage"],[194,24,194,22],[194,25,194,22,"default"],[194,32,194,22],[194,33,194,23,"removeItem"],[194,43,194,33],[194,44,194,34],[194,65,194,55],[194,66,194,56],[195,6,196,4,"console"],[195,13,196,11],[195,14,196,12,"log"],[195,17,196,15],[195,18,196,16],[195,54,196,52],[195,55,196,53],[196,6,197,4],[196,13,197,11],[196,17,197,15],[197,4,199,2],[197,5,199,3],[197,6,199,4],[197,13,199,11,"error"],[197,18,199,16],[197,20,199,18],[198,6,200,4,"console"],[198,13,200,11],[198,14,200,12,"error"],[198,19,200,17],[198,20,200,18],[198,53,200,51],[198,55,200,53,"error"],[198,60,200,58],[198,61,200,59],[199,6,201,4],[199,13,201,11],[199,18,201,16],[200,4,202,2],[201,2,203,0],[203,2,205,0],[204,0,206,0],[205,0,207,0],[206,2,208,7],[206,17,208,22,"isSubscribedToWebPush"],[206,38,208,43,"isSubscribedToWebPush"],[206,39,208,43],[206,41,208,64],[207,4,209,2],[207,8,209,6,"Platform"],[207,16,209,14],[207,17,209,14,"default"],[207,24,209,14],[207,25,209,15,"OS"],[207,27,209,17],[207,32,209,22],[207,37,209,27],[207,41,209,31],[207,43,209,33],[207,58,209,48],[207,62,209,52,"navigator"],[207,71,209,61],[207,72,209,62],[207,74,209,64],[208,6,210,4],[208,13,210,11],[208,18,210,16],[209,4,211,2],[210,4,213,2],[210,8,213,6],[211,6,214,4],[211,12,214,10,"registration"],[211,24,214,22],[211,27,214,25],[211,33,214,31,"navigator"],[211,42,214,40],[211,43,214,41,"serviceWorker"],[211,56,214,54],[211,57,214,55,"ready"],[211,62,214,60],[212,6,215,4],[212,12,215,10,"subscription"],[212,24,215,22],[212,27,215,25],[212,33,215,31,"registration"],[212,45,215,43],[212,46,215,44,"pushManager"],[212,57,215,55],[212,58,215,56,"getSubscription"],[212,73,215,71],[212,74,215,72],[212,75,215,73],[213,6,216,4],[213,13,216,11,"subscription"],[213,25,216,23],[213,30,216,28],[213,34,216,32],[214,4,217,2],[214,5,217,3],[214,6,217,4],[214,13,217,11,"error"],[214,18,217,16],[214,20,217,18],[215,6,218,4],[215,13,218,11],[215,18,218,16],[216,4,219,2],[217,2,220,0],[219,2,222,0],[220,0,223,0],[221,0,224,0],[222,2,225,7],[222,17,225,22,"initWebPushIfPermitted"],[222,39,225,44,"initWebPushIfPermitted"],[222,40,225,45,"authToken"],[222,49,225,62],[222,51,225,79],[223,4,226,2],[223,8,226,6],[223,9,226,7,"isWebPushSupported"],[223,27,226,25],[223,28,226,26],[223,29,226,27],[223,31,226,29],[224,4,228,2],[224,10,228,8,"permission"],[224,20,228,18],[224,23,228,21,"getNotificationPermission"],[224,48,228,46],[224,49,228,47],[224,50,228,48],[225,4,229,2],[225,8,229,6,"permission"],[225,18,229,16],[225,23,229,21],[225,32,229,30],[225,34,229,32],[226,6,230,4],[226,12,230,10,"isSubscribed"],[226,24,230,22],[226,27,230,25],[226,33,230,31,"isSubscribedToWebPush"],[226,54,230,52],[226,55,230,53],[226,56,230,54],[227,6,231,4],[227,10,231,8],[227,11,231,9,"isSubscribed"],[227,23,231,21],[227,25,231,23],[228,8,232,6,"console"],[228,15,232,13],[228,16,232,14,"log"],[228,19,232,17],[228,20,232,18],[228,76,232,74],[228,77,232,75],[229,8,233,6],[229,14,233,12,"subscribeToWebPush"],[229,32,233,30],[229,33,233,31,"authToken"],[229,42,233,40],[229,43,233,41],[230,6,234,4],[231,4,235,2],[232,2,236,0],[233,0,236,1],[233,3]],"functionMap":{"names":["<global>","urlBase64ToUint8Array","isWebPushSupported","getNotificationPermission","registerServiceWorker","requestNotificationPermission","getVapidPublicKey","subscribeToWebPush","unsubscribeFromWebPush","isSubscribedToWebPush","initWebPushIfPermitted"],"mappings":"AAA;ACa;CDa;OEK;CFQ;OGK;CHG;OIK;CJiB;OKK;CLQ;AMK;CNY;OOK;CPiE;OQK;CR4B;OSK;CTY;OUK;CVW"},"hasCjsExports":false},"type":"js/module"}]}