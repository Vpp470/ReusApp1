{"dependencies":[{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":174},"end":{"line":7,"column":69,"index":243}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":244},"end":{"line":8,"column":39,"index":283}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.isWebPushSupported = isWebPushSupported;\n  exports.getNotificationPermission = getNotificationPermission;\n  exports.registerServiceWorker = registerServiceWorker;\n  exports.requestNotificationPermission = requestNotificationPermission;\n  exports.getVapidPublicKey = getVapidPublicKey;\n  exports.subscribeToWebPush = subscribeToWebPush;\n  exports.unsubscribeFromWebPush = unsubscribeFromWebPush;\n  exports.isSubscribedToWebPush = isSubscribedToWebPush;\n  exports.initWebPushIfPermitted = initWebPushIfPermitted;\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[0], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  /**\n   * Servei de Web Push Notifications per El Tomb de Reus\n   * Gestiona el registre del Service Worker i les subscripcions push\n   */\n\n  // Obtenir la URL base de l'API\n  const getApiBase = () => {\n    // En web, primer intentem obtenir la URL de l'entorn\n    const envUrl = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL;\n    if (envUrl) {\n      return `${envUrl}/api`;\n    }\n\n    // Fallback: usar URL relativa\n    return '/api';\n  };\n\n  /**\n   * Converteix una clau base64 URL-safe a Uint8Array\n   */\n  function urlBase64ToUint8Array(base64String) {\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\n    const base64 = (base64String + padding).replace(/-/g, '+').replace(/_/g, '/');\n    const rawData = window.atob(base64);\n    const outputArray = new Uint8Array(rawData.length);\n    for (let i = 0; i < rawData.length; ++i) {\n      outputArray[i] = rawData.charCodeAt(i);\n    }\n    return outputArray;\n  }\n\n  /**\n   * Verifica si el navegador suporta Web Push\n   */\n  function isWebPushSupported() {\n    if (Platform.default.OS !== 'web') return false;\n    return 'serviceWorker' in navigator && 'PushManager' in window && 'Notification' in window;\n  }\n\n  /**\n   * Verifica l'estat actual de les notificacions\n   */\n  function getNotificationPermission() {\n    if (Platform.default.OS !== 'web' || !('Notification' in window)) return null;\n    return Notification.permission;\n  }\n\n  /**\n   * Registra el Service Worker\n   */\n  async function registerServiceWorker() {\n    if (Platform.default.OS !== 'web' || !('serviceWorker' in navigator)) {\n      console.log('[WebPush] Service Worker no suportat');\n      return null;\n    }\n    try {\n      const registration = await navigator.serviceWorker.register('/sw.js', {\n        scope: '/'\n      });\n      console.log('[WebPush] Service Worker registrat:', registration.scope);\n      return registration;\n    } catch (error) {\n      console.error('[WebPush] Error registrant Service Worker:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Sol·licita permís per notificacions\n   */\n  async function requestNotificationPermission() {\n    if (Platform.default.OS !== 'web' || !('Notification' in window)) {\n      return 'denied';\n    }\n    const permission = await Notification.requestPermission();\n    console.log('[WebPush] Permís de notificacions:', permission);\n    return permission;\n  }\n\n  /**\n   * Obté la clau pública VAPID del servidor\n   */\n  async function getVapidPublicKey() {\n    try {\n      const apiBase = getApiBase();\n      console.log('[WebPush] Obtenint clau VAPID de:', `${apiBase}/web-push/vapid-public-key`);\n      const response = await fetch(`${apiBase}/web-push/vapid-public-key`);\n      if (!response.ok) {\n        throw new Error('No s\\'ha pogut obtenir la clau VAPID');\n      }\n      const data = await response.json();\n      return data.vapidPublicKey;\n    } catch (error) {\n      console.error('[WebPush] Error obtenint clau VAPID:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Subscriu l'usuari a les notificacions Web Push\n   */\n  async function subscribeToWebPush(authToken) {\n    if (!isWebPushSupported()) {\n      console.log('[WebPush] Web Push no suportat');\n      return false;\n    }\n\n    // Obtenir token - si no es passa, intentar del localStorage\n    let token = authToken;\n    if (!token && typeof localStorage !== 'undefined') {\n      token = localStorage.getItem('reusapp_auth_token') || undefined;\n      console.log('[WebPush] Token obtingut de localStorage:', token ? 'SÍ' : 'NO');\n    }\n    if (!token) {\n      console.error('[WebPush] No hi ha token d\\'autenticació!');\n      return false;\n    }\n    try {\n      // 1. Registrar Service Worker\n      console.log('[WebPush] 1. Registrant Service Worker...');\n      const registration = await registerServiceWorker();\n      if (!registration) {\n        throw new Error('No s\\'ha pogut registrar el Service Worker');\n      }\n      console.log('[WebPush] Service Worker registrat correctament');\n\n      // 2. Sol·licitar permís\n      console.log('[WebPush] 2. Sol·licitant permís...');\n      const permission = await requestNotificationPermission();\n      if (permission !== 'granted') {\n        console.log('[WebPush] Permís de notificacions no concedit:', permission);\n        return false;\n      }\n      console.log('[WebPush] Permís concedit!');\n\n      // 3. Obtenir clau VAPID\n      console.log('[WebPush] 3. Obtenint clau VAPID...');\n      const vapidPublicKey = await getVapidPublicKey();\n      if (!vapidPublicKey) {\n        throw new Error('No s\\'ha pogut obtenir la clau VAPID');\n      }\n      console.log('[WebPush] Clau VAPID obtinguda');\n\n      // 4. Crear subscripció push\n      console.log('[WebPush] 4. Creant subscripció push...');\n      const subscription = await registration.pushManager.subscribe({\n        userVisibleOnly: true,\n        applicationServerKey: urlBase64ToUint8Array(vapidPublicKey)\n      });\n      console.log('[WebPush] Subscripció creada:', subscription.endpoint);\n\n      // 5. Enviar subscripció al servidor\n      console.log('[WebPush] 5. Enviant subscripció al servidor...');\n      const subscriptionJson = subscription.toJSON();\n      const apiBase = getApiBase();\n      console.log('[WebPush] API Base:', apiBase);\n      console.log('[WebPush] Token (primers 20 chars):', token.substring(0, 20) + '...');\n      const response = await fetch(`${apiBase}/web-push/subscribe`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': token\n        },\n        body: JSON.stringify({\n          endpoint: subscription.endpoint,\n          keys: {\n            p256dh: subscriptionJson.keys?.p256dh,\n            auth: subscriptionJson.keys?.auth\n          }\n        })\n      });\n      console.log('[WebPush] Resposta del servidor:', response.status);\n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('[WebPush] Error del servidor:', errorText);\n        throw new Error('Error guardant subscripció al servidor: ' + errorText);\n      }\n\n      // 6. Guardar estat local\n      await AsyncStorage.default.setItem('web_push_subscribed', 'true');\n      console.log('[WebPush] ✅ Subscripció completada amb èxit');\n      return true;\n    } catch (error) {\n      console.error('[WebPush] Error subscrivint:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Dessubscriu l'usuari de les notificacions Web Push\n   */\n  async function unsubscribeFromWebPush(authToken) {\n    if (Platform.default.OS !== 'web') return false;\n    try {\n      const registration = await navigator.serviceWorker.ready;\n      const subscription = await registration.pushManager.getSubscription();\n      if (subscription) {\n        await subscription.unsubscribe();\n      }\n\n      // Eliminar del servidor\n      const apiBase = getApiBase();\n      await fetch(`${apiBase}/web-push/unsubscribe`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': authToken\n        }\n      });\n      await AsyncStorage.default.removeItem('web_push_subscribed');\n      console.log('[WebPush] Dessubscrit correctament');\n      return true;\n    } catch (error) {\n      console.error('[WebPush] Error dessubscrivint:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Verifica si l'usuari ja està subscrit\n   */\n  async function isSubscribedToWebPush() {\n    if (Platform.default.OS !== 'web' || !('serviceWorker' in navigator)) {\n      return false;\n    }\n    try {\n      const registration = await navigator.serviceWorker.ready;\n      const subscription = await registration.pushManager.getSubscription();\n      return subscription !== null;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Inicialitza Web Push automàticament si l'usuari ja ha donat permís\n   */\n  async function initWebPushIfPermitted(authToken) {\n    if (!isWebPushSupported()) return;\n    const permission = getNotificationPermission();\n    if (permission === 'granted') {\n      const isSubscribed = await isSubscribedToWebPush();\n      if (!isSubscribed) {\n        console.log('[WebPush] Re-subscrivint usuari amb permís existent...');\n        await subscribeToWebPush(authToken);\n      }\n    }\n  }\n});","lineCount":274,"map":[[12,2,45,0,"exports"],[12,9,45,0],[12,10,45,0,"isWebPushSupported"],[12,28,45,0],[12,31,45,0,"isWebPushSupported"],[12,49,45,0],[13,2,58,0,"exports"],[13,9,58,0],[13,10,58,0,"getNotificationPermission"],[13,35,58,0],[13,38,58,0,"getNotificationPermission"],[13,63,58,0],[14,2,66,0,"exports"],[14,9,66,0],[14,10,66,0,"registerServiceWorker"],[14,31,66,0],[14,34,66,0,"registerServiceWorker"],[14,55,66,0],[15,2,88,0,"exports"],[15,9,88,0],[15,10,88,0,"requestNotificationPermission"],[15,39,88,0],[15,42,88,0,"requestNotificationPermission"],[15,71,88,0],[16,2,101,0,"exports"],[16,9,101,0],[16,10,101,0,"getVapidPublicKey"],[16,27,101,0],[16,30,101,0,"getVapidPublicKey"],[16,47,101,0],[17,2,120,0,"exports"],[17,9,120,0],[17,10,120,0,"subscribeToWebPush"],[17,28,120,0],[17,31,120,0,"subscribeToWebPush"],[17,49,120,0],[18,2,218,0,"exports"],[18,9,218,0],[18,10,218,0,"unsubscribeFromWebPush"],[18,32,218,0],[18,35,218,0,"unsubscribeFromWebPush"],[18,57,218,0],[19,2,252,0,"exports"],[19,9,252,0],[19,10,252,0,"isSubscribedToWebPush"],[19,31,252,0],[19,34,252,0,"isSubscribedToWebPush"],[19,55,252,0],[20,2,269,0,"exports"],[20,9,269,0],[20,10,269,0,"initWebPushIfPermitted"],[20,32,269,0],[20,35,269,0,"initWebPushIfPermitted"],[20,57,269,0],[21,2,280,1],[21,6,280,1,"_reactNativeWebDistExportsPlatform"],[21,40,280,1],[21,43,280,1,"require"],[21,50,280,1],[21,51,280,1,"_dependencyMap"],[21,65,280,1],[22,2,280,1],[22,6,280,1,"Platform"],[22,14,280,1],[22,17,280,1,"_interopDefault"],[22,32,280,1],[22,33,280,1,"_reactNativeWebDistExportsPlatform"],[22,67,280,1],[23,2,7,0],[23,6,7,0,"_reactNativeAsyncStorageAsyncStorage"],[23,42,7,0],[23,45,7,0,"require"],[23,52,7,0],[23,53,7,0,"_dependencyMap"],[23,67,7,0],[24,2,7,0],[24,6,7,0,"AsyncStorage"],[24,18,7,0],[24,21,7,0,"_interopDefault"],[24,36,7,0],[24,37,7,0,"_reactNativeAsyncStorageAsyncStorage"],[24,73,7,0],[25,2,8,0],[25,6,8,0,"_expoConstants"],[25,20,8,0],[25,23,8,0,"require"],[25,30,8,0],[25,31,8,0,"_dependencyMap"],[25,45,8,0],[26,2,8,0],[26,6,8,0,"Constants"],[26,15,8,0],[26,18,8,0,"_interopDefault"],[26,33,8,0],[26,34,8,0,"_expoConstants"],[26,48,8,0],[27,2,1,0],[28,0,2,0],[29,0,3,0],[30,0,4,0],[32,2,10,0],[33,2,11,0],[33,8,11,6,"getApiBase"],[33,18,11,16],[33,21,11,19,"getApiBase"],[33,22,11,19],[33,27,11,33],[34,4,12,2],[35,4,13,2],[35,10,13,8,"envUrl"],[35,16,13,14],[35,19,13,17,"Constants"],[35,28,13,26],[35,29,13,26,"default"],[35,36,13,26],[35,37,13,27,"expoConfig"],[35,47,13,37],[35,49,13,39,"extra"],[35,54,13,44],[35,56,13,46,"EXPO_PUBLIC_BACKEND_URL"],[35,79,13,69],[35,83,14,17,"process"],[35,90,14,24],[35,91,14,25,"env"],[35,94,14,28],[35,95,14,29,"EXPO_PUBLIC_BACKEND_URL"],[35,118,14,52],[36,4,16,2],[36,8,16,6,"envUrl"],[36,14,16,12],[36,16,16,14],[37,6,17,4],[37,13,17,11],[37,16,17,14,"envUrl"],[37,22,17,20],[37,28,17,26],[38,4,18,2],[40,4,20,2],[41,4,21,2],[41,11,21,9],[41,17,21,15],[42,2,22,0],[42,3,22,1],[44,2,24,0],[45,0,25,0],[46,0,26,0],[47,2,27,0],[47,11,27,9,"urlBase64ToUint8Array"],[47,32,27,30,"urlBase64ToUint8Array"],[47,33,27,31,"base64String"],[47,45,27,51],[47,47,27,65],[48,4,28,2],[48,10,28,8,"padding"],[48,17,28,15],[48,20,28,18],[48,23,28,21],[48,24,28,22,"repeat"],[48,30,28,28],[48,31,28,29],[48,32,28,30],[48,33,28,31],[48,36,28,34,"base64String"],[48,48,28,46],[48,49,28,47,"length"],[48,55,28,53],[48,58,28,56],[48,59,28,57],[48,63,28,61],[48,64,28,62],[48,65,28,63],[49,4,29,2],[49,10,29,8,"base64"],[49,16,29,14],[49,19,29,17],[49,20,29,18,"base64String"],[49,32,29,30],[49,35,29,33,"padding"],[49,42,29,40],[49,44,30,5,"replace"],[49,51,30,12],[49,52,30,13],[49,56,30,17],[49,58,30,19],[49,61,30,22],[49,62,30,23],[49,63,31,5,"replace"],[49,70,31,12],[49,71,31,13],[49,75,31,17],[49,77,31,19],[49,80,31,22],[49,81,31,23],[50,4,33,2],[50,10,33,8,"rawData"],[50,17,33,15],[50,20,33,18,"window"],[50,26,33,24],[50,27,33,25,"atob"],[50,31,33,29],[50,32,33,30,"base64"],[50,38,33,36],[50,39,33,37],[51,4,34,2],[51,10,34,8,"outputArray"],[51,21,34,19],[51,24,34,22],[51,28,34,26,"Uint8Array"],[51,38,34,36],[51,39,34,37,"rawData"],[51,46,34,44],[51,47,34,45,"length"],[51,53,34,51],[51,54,34,52],[52,4,36,2],[52,9,36,7],[52,13,36,11,"i"],[52,14,36,12],[52,17,36,15],[52,18,36,16],[52,20,36,18,"i"],[52,21,36,19],[52,24,36,22,"rawData"],[52,31,36,29],[52,32,36,30,"length"],[52,38,36,36],[52,40,36,38],[52,42,36,40,"i"],[52,43,36,41],[52,45,36,43],[53,6,37,4,"outputArray"],[53,17,37,15],[53,18,37,16,"i"],[53,19,37,17],[53,20,37,18],[53,23,37,21,"rawData"],[53,30,37,28],[53,31,37,29,"charCodeAt"],[53,41,37,39],[53,42,37,40,"i"],[53,43,37,41],[53,44,37,42],[54,4,38,2],[55,4,39,2],[55,11,39,9,"outputArray"],[55,22,39,20],[56,2,40,0],[58,2,42,0],[59,0,43,0],[60,0,44,0],[61,2,45,7],[61,11,45,16,"isWebPushSupported"],[61,29,45,34,"isWebPushSupported"],[61,30,45,34],[61,32,45,46],[62,4,46,2],[62,8,46,6,"Platform"],[62,16,46,14],[62,17,46,14,"default"],[62,24,46,14],[62,25,46,15,"OS"],[62,27,46,17],[62,32,46,22],[62,37,46,27],[62,39,46,29],[62,46,46,36],[62,51,46,41],[63,4,48,2],[63,11,49,4],[63,26,49,19],[63,30,49,23,"navigator"],[63,39,49,32],[63,43,50,4],[63,56,50,17],[63,60,50,21,"window"],[63,66,50,27],[63,70,51,4],[63,84,51,18],[63,88,51,22,"window"],[63,94,51,28],[64,2,53,0],[66,2,55,0],[67,0,56,0],[68,0,57,0],[69,2,58,7],[69,11,58,16,"getNotificationPermission"],[69,36,58,41,"getNotificationPermission"],[69,37,58,41],[69,39,58,75],[70,4,59,2],[70,8,59,6,"Platform"],[70,16,59,14],[70,17,59,14,"default"],[70,24,59,14],[70,25,59,15,"OS"],[70,27,59,17],[70,32,59,22],[70,37,59,27],[70,41,59,31],[70,43,59,33],[70,57,59,47],[70,61,59,51,"window"],[70,67,59,57],[70,68,59,58],[70,70,59,60],[70,77,59,67],[70,81,59,71],[71,4,60,2],[71,11,60,9,"Notification"],[71,23,60,21],[71,24,60,22,"permission"],[71,34,60,32],[72,2,61,0],[74,2,63,0],[75,0,64,0],[76,0,65,0],[77,2,66,7],[77,17,66,22,"registerServiceWorker"],[77,38,66,43,"registerServiceWorker"],[77,39,66,43],[77,41,66,89],[78,4,67,2],[78,8,67,6,"Platform"],[78,16,67,14],[78,17,67,14,"default"],[78,24,67,14],[78,25,67,15,"OS"],[78,27,67,17],[78,32,67,22],[78,37,67,27],[78,41,67,31],[78,43,67,33],[78,58,67,48],[78,62,67,52,"navigator"],[78,71,67,61],[78,72,67,62],[78,74,67,64],[79,6,68,4,"console"],[79,13,68,11],[79,14,68,12,"log"],[79,17,68,15],[79,18,68,16],[79,56,68,54],[79,57,68,55],[80,6,69,4],[80,13,69,11],[80,17,69,15],[81,4,70,2],[82,4,72,2],[82,8,72,6],[83,6,73,4],[83,12,73,10,"registration"],[83,24,73,22],[83,27,73,25],[83,33,73,31,"navigator"],[83,42,73,40],[83,43,73,41,"serviceWorker"],[83,56,73,54],[83,57,73,55,"register"],[83,65,73,63],[83,66,73,64],[83,74,73,72],[83,76,73,74],[84,8,74,6,"scope"],[84,13,74,11],[84,15,74,13],[85,6,75,4],[85,7,75,5],[85,8,75,6],[86,6,77,4,"console"],[86,13,77,11],[86,14,77,12,"log"],[86,17,77,15],[86,18,77,16],[86,55,77,53],[86,57,77,55,"registration"],[86,69,77,67],[86,70,77,68,"scope"],[86,75,77,73],[86,76,77,74],[87,6,78,4],[87,13,78,11,"registration"],[87,25,78,23],[88,4,79,2],[88,5,79,3],[88,6,79,4],[88,13,79,11,"error"],[88,18,79,16],[88,20,79,18],[89,6,80,4,"console"],[89,13,80,11],[89,14,80,12,"error"],[89,19,80,17],[89,20,80,18],[89,64,80,62],[89,66,80,64,"error"],[89,71,80,69],[89,72,80,70],[90,6,81,4],[90,13,81,11],[90,17,81,15],[91,4,82,2],[92,2,83,0],[94,2,85,0],[95,0,86,0],[96,0,87,0],[97,2,88,7],[97,17,88,22,"requestNotificationPermission"],[97,46,88,51,"requestNotificationPermission"],[97,47,88,51],[97,49,88,87],[98,4,89,2],[98,8,89,6,"Platform"],[98,16,89,14],[98,17,89,14,"default"],[98,24,89,14],[98,25,89,15,"OS"],[98,27,89,17],[98,32,89,22],[98,37,89,27],[98,41,89,31],[98,43,89,33],[98,57,89,47],[98,61,89,51,"window"],[98,67,89,57],[98,68,89,58],[98,70,89,60],[99,6,90,4],[99,13,90,11],[99,21,90,19],[100,4,91,2],[101,4,93,2],[101,10,93,8,"permission"],[101,20,93,18],[101,23,93,21],[101,29,93,27,"Notification"],[101,41,93,39],[101,42,93,40,"requestPermission"],[101,59,93,57],[101,60,93,58],[101,61,93,59],[102,4,94,2,"console"],[102,11,94,9],[102,12,94,10,"log"],[102,15,94,13],[102,16,94,14],[102,52,94,50],[102,54,94,52,"permission"],[102,64,94,62],[102,65,94,63],[103,4,95,2],[103,11,95,9,"permission"],[103,21,95,19],[104,2,96,0],[106,2,98,0],[107,0,99,0],[108,0,100,0],[109,2,101,7],[109,17,101,22,"getVapidPublicKey"],[109,34,101,39,"getVapidPublicKey"],[109,35,101,39],[109,37,101,66],[110,4,102,2],[110,8,102,6],[111,6,103,4],[111,12,103,10,"apiBase"],[111,19,103,17],[111,22,103,20,"getApiBase"],[111,32,103,30],[111,33,103,31],[111,34,103,32],[112,6,104,4,"console"],[112,13,104,11],[112,14,104,12,"log"],[112,17,104,15],[112,18,104,16],[112,53,104,51],[112,55,104,53],[112,58,104,56,"apiBase"],[112,65,104,63],[112,93,104,91],[112,94,104,92],[113,6,105,4],[113,12,105,10,"response"],[113,20,105,18],[113,23,105,21],[113,29,105,27,"fetch"],[113,34,105,32],[113,35,105,33],[113,38,105,36,"apiBase"],[113,45,105,43],[113,73,105,71],[113,74,105,72],[114,6,106,4],[114,10,106,8],[114,11,106,9,"response"],[114,19,106,17],[114,20,106,18,"ok"],[114,22,106,20],[114,24,106,22],[115,8,107,6],[115,14,107,12],[115,18,107,16,"Error"],[115,23,107,21],[115,24,107,22],[115,62,107,60],[115,63,107,61],[116,6,108,4],[117,6,109,4],[117,12,109,10,"data"],[117,16,109,14],[117,19,109,17],[117,25,109,23,"response"],[117,33,109,31],[117,34,109,32,"json"],[117,38,109,36],[117,39,109,37],[117,40,109,38],[118,6,110,4],[118,13,110,11,"data"],[118,17,110,15],[118,18,110,16,"vapidPublicKey"],[118,32,110,30],[119,4,111,2],[119,5,111,3],[119,6,111,4],[119,13,111,11,"error"],[119,18,111,16],[119,20,111,18],[120,6,112,4,"console"],[120,13,112,11],[120,14,112,12,"error"],[120,19,112,17],[120,20,112,18],[120,58,112,56],[120,60,112,58,"error"],[120,65,112,63],[120,66,112,64],[121,6,113,4],[121,13,113,11],[121,17,113,15],[122,4,114,2],[123,2,115,0],[125,2,117,0],[126,0,118,0],[127,0,119,0],[128,2,120,7],[128,17,120,22,"subscribeToWebPush"],[128,35,120,40,"subscribeToWebPush"],[128,36,120,41,"authToken"],[128,45,120,59],[128,47,120,79],[129,4,121,2],[129,8,121,6],[129,9,121,7,"isWebPushSupported"],[129,27,121,25],[129,28,121,26],[129,29,121,27],[129,31,121,29],[130,6,122,4,"console"],[130,13,122,11],[130,14,122,12,"log"],[130,17,122,15],[130,18,122,16],[130,50,122,48],[130,51,122,49],[131,6,123,4],[131,13,123,11],[131,18,123,16],[132,4,124,2],[134,4,126,2],[135,4,127,2],[135,8,127,6,"token"],[135,13,127,11],[135,16,127,14,"authToken"],[135,25,127,23],[136,4,128,2],[136,8,128,6],[136,9,128,7,"token"],[136,14,128,12],[136,18,128,16],[136,25,128,23,"localStorage"],[136,37,128,35],[136,42,128,40],[136,53,128,51],[136,55,128,53],[137,6,129,4,"token"],[137,11,129,9],[137,14,129,12,"localStorage"],[137,26,129,24],[137,27,129,25,"getItem"],[137,34,129,32],[137,35,129,33],[137,55,129,53],[137,56,129,54],[137,60,129,58,"undefined"],[137,69,129,67],[138,6,130,4,"console"],[138,13,130,11],[138,14,130,12,"log"],[138,17,130,15],[138,18,130,16],[138,61,130,59],[138,63,130,61,"token"],[138,68,130,66],[138,71,130,69],[138,75,130,73],[138,78,130,76],[138,82,130,80],[138,83,130,81],[139,4,131,2],[140,4,133,2],[140,8,133,6],[140,9,133,7,"token"],[140,14,133,12],[140,16,133,14],[141,6,134,4,"console"],[141,13,134,11],[141,14,134,12,"error"],[141,19,134,17],[141,20,134,18],[141,63,134,61],[141,64,134,62],[142,6,135,4],[142,13,135,11],[142,18,135,16],[143,4,136,2],[144,4,138,2],[144,8,138,6],[145,6,139,4],[146,6,140,4,"console"],[146,13,140,11],[146,14,140,12,"log"],[146,17,140,15],[146,18,140,16],[146,61,140,59],[146,62,140,60],[147,6,141,4],[147,12,141,10,"registration"],[147,24,141,22],[147,27,141,25],[147,33,141,31,"registerServiceWorker"],[147,54,141,52],[147,55,141,53],[147,56,141,54],[148,6,142,4],[148,10,142,8],[148,11,142,9,"registration"],[148,23,142,21],[148,25,142,23],[149,8,143,6],[149,14,143,12],[149,18,143,16,"Error"],[149,23,143,21],[149,24,143,22],[149,68,143,66],[149,69,143,67],[150,6,144,4],[151,6,145,4,"console"],[151,13,145,11],[151,14,145,12,"log"],[151,17,145,15],[151,18,145,16],[151,67,145,65],[151,68,145,66],[153,6,147,4],[154,6,148,4,"console"],[154,13,148,11],[154,14,148,12,"log"],[154,17,148,15],[154,18,148,16],[154,55,148,53],[154,56,148,54],[155,6,149,4],[155,12,149,10,"permission"],[155,22,149,20],[155,25,149,23],[155,31,149,29,"requestNotificationPermission"],[155,60,149,58],[155,61,149,59],[155,62,149,60],[156,6,150,4],[156,10,150,8,"permission"],[156,20,150,18],[156,25,150,23],[156,34,150,32],[156,36,150,34],[157,8,151,6,"console"],[157,15,151,13],[157,16,151,14,"log"],[157,19,151,17],[157,20,151,18],[157,68,151,66],[157,70,151,68,"permission"],[157,80,151,78],[157,81,151,79],[158,8,152,6],[158,15,152,13],[158,20,152,18],[159,6,153,4],[160,6,154,4,"console"],[160,13,154,11],[160,14,154,12,"log"],[160,17,154,15],[160,18,154,16],[160,46,154,44],[160,47,154,45],[162,6,156,4],[163,6,157,4,"console"],[163,13,157,11],[163,14,157,12,"log"],[163,17,157,15],[163,18,157,16],[163,55,157,53],[163,56,157,54],[164,6,158,4],[164,12,158,10,"vapidPublicKey"],[164,26,158,24],[164,29,158,27],[164,35,158,33,"getVapidPublicKey"],[164,52,158,50],[164,53,158,51],[164,54,158,52],[165,6,159,4],[165,10,159,8],[165,11,159,9,"vapidPublicKey"],[165,25,159,23],[165,27,159,25],[166,8,160,6],[166,14,160,12],[166,18,160,16,"Error"],[166,23,160,21],[166,24,160,22],[166,62,160,60],[166,63,160,61],[167,6,161,4],[168,6,162,4,"console"],[168,13,162,11],[168,14,162,12,"log"],[168,17,162,15],[168,18,162,16],[168,50,162,48],[168,51,162,49],[170,6,164,4],[171,6,165,4,"console"],[171,13,165,11],[171,14,165,12,"log"],[171,17,165,15],[171,18,165,16],[171,59,165,57],[171,60,165,58],[172,6,166,4],[172,12,166,10,"subscription"],[172,24,166,22],[172,27,166,25],[172,33,166,31,"registration"],[172,45,166,43],[172,46,166,44,"pushManager"],[172,57,166,55],[172,58,166,56,"subscribe"],[172,67,166,65],[172,68,166,66],[173,8,167,6,"userVisibleOnly"],[173,23,167,21],[173,25,167,23],[173,29,167,27],[174,8,168,6,"applicationServerKey"],[174,28,168,26],[174,30,168,28,"urlBase64ToUint8Array"],[174,51,168,49],[174,52,168,50,"vapidPublicKey"],[174,66,168,64],[175,6,169,4],[175,7,169,5],[175,8,169,6],[176,6,171,4,"console"],[176,13,171,11],[176,14,171,12,"log"],[176,17,171,15],[176,18,171,16],[176,49,171,47],[176,51,171,49,"subscription"],[176,63,171,61],[176,64,171,62,"endpoint"],[176,72,171,70],[176,73,171,71],[178,6,173,4],[179,6,174,4,"console"],[179,13,174,11],[179,14,174,12,"log"],[179,17,174,15],[179,18,174,16],[179,67,174,65],[179,68,174,66],[180,6,175,4],[180,12,175,10,"subscriptionJson"],[180,28,175,26],[180,31,175,29,"subscription"],[180,43,175,41],[180,44,175,42,"toJSON"],[180,50,175,48],[180,51,175,49],[180,52,175,50],[181,6,176,4],[181,12,176,10,"apiBase"],[181,19,176,17],[181,22,176,20,"getApiBase"],[181,32,176,30],[181,33,176,31],[181,34,176,32],[182,6,177,4,"console"],[182,13,177,11],[182,14,177,12,"log"],[182,17,177,15],[182,18,177,16],[182,39,177,37],[182,41,177,39,"apiBase"],[182,48,177,46],[182,49,177,47],[183,6,178,4,"console"],[183,13,178,11],[183,14,178,12,"log"],[183,17,178,15],[183,18,178,16],[183,55,178,53],[183,57,178,55,"token"],[183,62,178,60],[183,63,178,61,"substring"],[183,72,178,70],[183,73,178,71],[183,74,178,72],[183,76,178,74],[183,78,178,76],[183,79,178,77],[183,82,178,80],[183,87,178,85],[183,88,178,86],[184,6,180,4],[184,12,180,10,"response"],[184,20,180,18],[184,23,180,21],[184,29,180,27,"fetch"],[184,34,180,32],[184,35,180,33],[184,38,180,36,"apiBase"],[184,45,180,43],[184,66,180,64],[184,68,180,66],[185,8,181,6,"method"],[185,14,181,12],[185,16,181,14],[185,22,181,20],[186,8,182,6,"headers"],[186,15,182,13],[186,17,182,15],[187,10,183,8],[187,24,183,22],[187,26,183,24],[187,44,183,42],[188,10,184,8],[188,25,184,23],[188,27,184,25,"token"],[189,8,185,6],[189,9,185,7],[190,8,186,6,"body"],[190,12,186,10],[190,14,186,12,"JSON"],[190,18,186,16],[190,19,186,17,"stringify"],[190,28,186,26],[190,29,186,27],[191,10,187,8,"endpoint"],[191,18,187,16],[191,20,187,18,"subscription"],[191,32,187,30],[191,33,187,31,"endpoint"],[191,41,187,39],[192,10,188,8,"keys"],[192,14,188,12],[192,16,188,14],[193,12,189,10,"p256dh"],[193,18,189,16],[193,20,189,18,"subscriptionJson"],[193,36,189,34],[193,37,189,35,"keys"],[193,41,189,39],[193,43,189,41,"p256dh"],[193,49,189,47],[194,12,190,10,"auth"],[194,16,190,14],[194,18,190,16,"subscriptionJson"],[194,34,190,32],[194,35,190,33,"keys"],[194,39,190,37],[194,41,190,39,"auth"],[195,10,191,8],[196,8,192,6],[196,9,192,7],[197,6,193,4],[197,7,193,5],[197,8,193,6],[198,6,195,4,"console"],[198,13,195,11],[198,14,195,12,"log"],[198,17,195,15],[198,18,195,16],[198,52,195,50],[198,54,195,52,"response"],[198,62,195,60],[198,63,195,61,"status"],[198,69,195,67],[198,70,195,68],[199,6,197,4],[199,10,197,8],[199,11,197,9,"response"],[199,19,197,17],[199,20,197,18,"ok"],[199,22,197,20],[199,24,197,22],[200,8,198,6],[200,14,198,12,"errorText"],[200,23,198,21],[200,26,198,24],[200,32,198,30,"response"],[200,40,198,38],[200,41,198,39,"text"],[200,45,198,43],[200,46,198,44],[200,47,198,45],[201,8,199,6,"console"],[201,15,199,13],[201,16,199,14,"error"],[201,21,199,19],[201,22,199,20],[201,53,199,51],[201,55,199,53,"errorText"],[201,64,199,62],[201,65,199,63],[202,8,200,6],[202,14,200,12],[202,18,200,16,"Error"],[202,23,200,21],[202,24,200,22],[202,66,200,64],[202,69,200,67,"errorText"],[202,78,200,76],[202,79,200,77],[203,6,201,4],[205,6,203,4],[206,6,204,4],[206,12,204,10,"AsyncStorage"],[206,24,204,22],[206,25,204,22,"default"],[206,32,204,22],[206,33,204,23,"setItem"],[206,40,204,30],[206,41,204,31],[206,62,204,52],[206,64,204,54],[206,70,204,60],[206,71,204,61],[207,6,206,4,"console"],[207,13,206,11],[207,14,206,12,"log"],[207,17,206,15],[207,18,206,16],[207,63,206,61],[207,64,206,62],[208,6,207,4],[208,13,207,11],[208,17,207,15],[209,4,209,2],[209,5,209,3],[209,6,209,4],[209,13,209,11,"error"],[209,18,209,16],[209,20,209,18],[210,6,210,4,"console"],[210,13,210,11],[210,14,210,12,"error"],[210,19,210,17],[210,20,210,18],[210,50,210,48],[210,52,210,50,"error"],[210,57,210,55],[210,58,210,56],[211,6,211,4],[211,13,211,11],[211,18,211,16],[212,4,212,2],[213,2,213,0],[215,2,215,0],[216,0,216,0],[217,0,217,0],[218,2,218,7],[218,17,218,22,"unsubscribeFromWebPush"],[218,39,218,44,"unsubscribeFromWebPush"],[218,40,218,45,"authToken"],[218,49,218,62],[218,51,218,82],[219,4,219,2],[219,8,219,6,"Platform"],[219,16,219,14],[219,17,219,14,"default"],[219,24,219,14],[219,25,219,15,"OS"],[219,27,219,17],[219,32,219,22],[219,37,219,27],[219,39,219,29],[219,46,219,36],[219,51,219,41],[220,4,221,2],[220,8,221,6],[221,6,222,4],[221,12,222,10,"registration"],[221,24,222,22],[221,27,222,25],[221,33,222,31,"navigator"],[221,42,222,40],[221,43,222,41,"serviceWorker"],[221,56,222,54],[221,57,222,55,"ready"],[221,62,222,60],[222,6,223,4],[222,12,223,10,"subscription"],[222,24,223,22],[222,27,223,25],[222,33,223,31,"registration"],[222,45,223,43],[222,46,223,44,"pushManager"],[222,57,223,55],[222,58,223,56,"getSubscription"],[222,73,223,71],[222,74,223,72],[222,75,223,73],[223,6,225,4],[223,10,225,8,"subscription"],[223,22,225,20],[223,24,225,22],[224,8,226,6],[224,14,226,12,"subscription"],[224,26,226,24],[224,27,226,25,"unsubscribe"],[224,38,226,36],[224,39,226,37],[224,40,226,38],[225,6,227,4],[227,6,229,4],[228,6,230,4],[228,12,230,10,"apiBase"],[228,19,230,17],[228,22,230,20,"getApiBase"],[228,32,230,30],[228,33,230,31],[228,34,230,32],[229,6,231,4],[229,12,231,10,"fetch"],[229,17,231,15],[229,18,231,16],[229,21,231,19,"apiBase"],[229,28,231,26],[229,51,231,49],[229,53,231,51],[230,8,232,6,"method"],[230,14,232,12],[230,16,232,14],[230,24,232,22],[231,8,233,6,"headers"],[231,15,233,13],[231,17,233,15],[232,10,234,8],[232,25,234,23],[232,27,234,25,"authToken"],[233,8,235,6],[234,6,236,4],[234,7,236,5],[234,8,236,6],[235,6,238,4],[235,12,238,10,"AsyncStorage"],[235,24,238,22],[235,25,238,22,"default"],[235,32,238,22],[235,33,238,23,"removeItem"],[235,43,238,33],[235,44,238,34],[235,65,238,55],[235,66,238,56],[236,6,240,4,"console"],[236,13,240,11],[236,14,240,12,"log"],[236,17,240,15],[236,18,240,16],[236,54,240,52],[236,55,240,53],[237,6,241,4],[237,13,241,11],[237,17,241,15],[238,4,243,2],[238,5,243,3],[238,6,243,4],[238,13,243,11,"error"],[238,18,243,16],[238,20,243,18],[239,6,244,4,"console"],[239,13,244,11],[239,14,244,12,"error"],[239,19,244,17],[239,20,244,18],[239,53,244,51],[239,55,244,53,"error"],[239,60,244,58],[239,61,244,59],[240,6,245,4],[240,13,245,11],[240,18,245,16],[241,4,246,2],[242,2,247,0],[244,2,249,0],[245,0,250,0],[246,0,251,0],[247,2,252,7],[247,17,252,22,"isSubscribedToWebPush"],[247,38,252,43,"isSubscribedToWebPush"],[247,39,252,43],[247,41,252,64],[248,4,253,2],[248,8,253,6,"Platform"],[248,16,253,14],[248,17,253,14,"default"],[248,24,253,14],[248,25,253,15,"OS"],[248,27,253,17],[248,32,253,22],[248,37,253,27],[248,41,253,31],[248,43,253,33],[248,58,253,48],[248,62,253,52,"navigator"],[248,71,253,61],[248,72,253,62],[248,74,253,64],[249,6,254,4],[249,13,254,11],[249,18,254,16],[250,4,255,2],[251,4,257,2],[251,8,257,6],[252,6,258,4],[252,12,258,10,"registration"],[252,24,258,22],[252,27,258,25],[252,33,258,31,"navigator"],[252,42,258,40],[252,43,258,41,"serviceWorker"],[252,56,258,54],[252,57,258,55,"ready"],[252,62,258,60],[253,6,259,4],[253,12,259,10,"subscription"],[253,24,259,22],[253,27,259,25],[253,33,259,31,"registration"],[253,45,259,43],[253,46,259,44,"pushManager"],[253,57,259,55],[253,58,259,56,"getSubscription"],[253,73,259,71],[253,74,259,72],[253,75,259,73],[254,6,260,4],[254,13,260,11,"subscription"],[254,25,260,23],[254,30,260,28],[254,34,260,32],[255,4,261,2],[255,5,261,3],[255,6,261,4],[255,13,261,11,"error"],[255,18,261,16],[255,20,261,18],[256,6,262,4],[256,13,262,11],[256,18,262,16],[257,4,263,2],[258,2,264,0],[260,2,266,0],[261,0,267,0],[262,0,268,0],[263,2,269,7],[263,17,269,22,"initWebPushIfPermitted"],[263,39,269,44,"initWebPushIfPermitted"],[263,40,269,45,"authToken"],[263,49,269,62],[263,51,269,79],[264,4,270,2],[264,8,270,6],[264,9,270,7,"isWebPushSupported"],[264,27,270,25],[264,28,270,26],[264,29,270,27],[264,31,270,29],[265,4,272,2],[265,10,272,8,"permission"],[265,20,272,18],[265,23,272,21,"getNotificationPermission"],[265,48,272,46],[265,49,272,47],[265,50,272,48],[266,4,273,2],[266,8,273,6,"permission"],[266,18,273,16],[266,23,273,21],[266,32,273,30],[266,34,273,32],[267,6,274,4],[267,12,274,10,"isSubscribed"],[267,24,274,22],[267,27,274,25],[267,33,274,31,"isSubscribedToWebPush"],[267,54,274,52],[267,55,274,53],[267,56,274,54],[268,6,275,4],[268,10,275,8],[268,11,275,9,"isSubscribed"],[268,23,275,21],[268,25,275,23],[269,8,276,6,"console"],[269,15,276,13],[269,16,276,14,"log"],[269,19,276,17],[269,20,276,18],[269,76,276,74],[269,77,276,75],[270,8,277,6],[270,14,277,12,"subscribeToWebPush"],[270,32,277,30],[270,33,277,31,"authToken"],[270,42,277,40],[270,43,277,41],[271,6,278,4],[272,4,279,2],[273,2,280,0],[274,0,280,1],[274,3]],"functionMap":{"names":["<global>","getApiBase","urlBase64ToUint8Array","isWebPushSupported","getNotificationPermission","registerServiceWorker","requestNotificationPermission","getVapidPublicKey","subscribeToWebPush","unsubscribeFromWebPush","isSubscribedToWebPush","initWebPushIfPermitted"],"mappings":"AAA;mBCU;CDW;AEK;CFa;OGK;CHQ;OIK;CJG;OKK;CLiB;OMK;CNQ;OOK;CPc;OQK;CR6F;OSK;CT6B;OUK;CVY;OWK;CXW"},"hasCjsExports":false},"type":"js/module"}]}