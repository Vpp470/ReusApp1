{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":38,"index":91}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":92},"end":{"line":3,"column":40,"index":132}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":133},"end":{"line":4,"column":39,"index":172}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.registerForPushNotificationsAsync = registerForPushNotificationsAsync;\n  exports.addNotificationReceivedListener = addNotificationReceivedListener;\n  exports.addNotificationResponseReceivedListener = addNotificationResponseReceivedListener;\n  exports.sendLocalNotification = sendLocalNotification;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoNotifications = require(_dependencyMap[1]);\n  var Notifications = _interopNamespace(_expoNotifications);\n  var _expoDevice = require(_dependencyMap[2]);\n  var Device = _interopNamespace(_expoDevice);\n  require(_dependencyMap[3]);\n  var _expoConstants = require(_dependencyMap[4]);\n  var Constants = _interopDefault(_expoConstants);\n  // Configurar com es mostren les notificacions quan l'app està en primer pla\n  Notifications.setNotificationHandler({\n    handleNotification: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        return {\n          shouldShowAlert: true,\n          shouldPlaySound: true,\n          shouldSetBadge: true\n        };\n      });\n      return function handleNotification() {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  });\n  /**\n   * Registrar per rebre notificacions push i obtenir el token\n   */\n  function registerForPushNotificationsAsync() {\n    return _registerForPushNotificationsAsync.apply(this, arguments);\n  }\n  /**\n   * Escoltar notificacions rebudes\n   */\n  function _registerForPushNotificationsAsync() {\n    _registerForPushNotificationsAsync = (0, _asyncToGenerator.default)(function* () {\n      var token = null;\n      if (Device.isDevice) {\n        var _yield$Notifications$ = yield Notifications.getPermissionsAsync(),\n          existingStatus = _yield$Notifications$.status;\n        var finalStatus = existingStatus;\n        if (existingStatus !== 'granted') {\n          var _yield$Notifications$2 = yield Notifications.requestPermissionsAsync(),\n            status = _yield$Notifications$2.status;\n          finalStatus = status;\n        }\n        if (finalStatus !== 'granted') {\n          console.log('Failed to get push token for push notification!');\n          return null;\n        }\n        try {\n          var projectId = Constants.default.expoConfig?.extra?.eas?.projectId ?? Constants.default.easConfig?.projectId;\n          if (!projectId) {\n            console.log('Project ID not found');\n            return null;\n          }\n          token = (yield Notifications.getExpoPushTokenAsync({\n            projectId\n          })).data;\n          console.log('Push token:', token);\n        } catch (error) {\n          console.error('Error getting push token:', error);\n          return null;\n        }\n      } else {\n        console.log('Must use physical device for Push Notifications');\n      }\n      return token;\n    });\n    return _registerForPushNotificationsAsync.apply(this, arguments);\n  }\n  function addNotificationReceivedListener(callback) {\n    return Notifications.addNotificationReceivedListener(callback);\n  }\n\n  /**\n   * Escoltar quan l'usuari toca una notificació\n   */\n  function addNotificationResponseReceivedListener(callback) {\n    return Notifications.addNotificationResponseReceivedListener(callback);\n  }\n\n  /**\n   * Enviar una notificació local (només per testing)\n   */\n  function sendLocalNotification(_x, _x2, _x3) {\n    return _sendLocalNotification.apply(this, arguments);\n  }\n  function _sendLocalNotification() {\n    _sendLocalNotification = (0, _asyncToGenerator.default)(function* (title, body, data) {\n      yield Notifications.scheduleNotificationAsync({\n        content: {\n          title,\n          body,\n          data: data || {},\n          sound: true\n        },\n        trigger: null // Enviar immediatament\n      });\n    });\n    return _sendLocalNotification.apply(this, arguments);\n  }\n});","lineCount":132,"map":[[27,2,24,0,"exports"],[27,9,24,0],[27,10,24,0,"registerForPushNotificationsAsync"],[27,43,24,0],[27,46,24,0,"registerForPushNotificationsAsync"],[27,79,24,0],[28,2,74,0,"exports"],[28,9,74,0],[28,10,74,0,"addNotificationReceivedListener"],[28,41,74,0],[28,44,74,0,"addNotificationReceivedListener"],[28,75,74,0],[29,2,83,0,"exports"],[29,9,83,0],[29,10,83,0,"addNotificationResponseReceivedListener"],[29,49,83,0],[29,52,83,0,"addNotificationResponseReceivedListener"],[29,91,83,0],[30,2,92,0,"exports"],[30,9,92,0],[30,10,92,0,"sendLocalNotification"],[30,31,92,0],[30,34,92,0,"sendLocalNotification"],[30,55,92,0],[31,2,102,1],[31,6,102,1,"_babelRuntimeHelpersAsyncToGenerator"],[31,42,102,1],[31,45,102,1,"require"],[31,52,102,1],[31,53,102,1,"_dependencyMap"],[31,67,102,1],[32,2,102,1],[32,6,102,1,"_asyncToGenerator"],[32,23,102,1],[32,26,102,1,"_interopDefault"],[32,41,102,1],[32,42,102,1,"_babelRuntimeHelpersAsyncToGenerator"],[32,78,102,1],[33,2,1,0],[33,6,1,0,"_expoNotifications"],[33,24,1,0],[33,27,1,0,"require"],[33,34,1,0],[33,35,1,0,"_dependencyMap"],[33,49,1,0],[34,2,1,0],[34,6,1,0,"Notifications"],[34,19,1,0],[34,22,1,0,"_interopNamespace"],[34,39,1,0],[34,40,1,0,"_expoNotifications"],[34,58,1,0],[35,2,2,0],[35,6,2,0,"_expoDevice"],[35,17,2,0],[35,20,2,0,"require"],[35,27,2,0],[35,28,2,0,"_dependencyMap"],[35,42,2,0],[36,2,2,0],[36,6,2,0,"Device"],[36,12,2,0],[36,15,2,0,"_interopNamespace"],[36,32,2,0],[36,33,2,0,"_expoDevice"],[36,44,2,0],[37,2,3,0,"require"],[37,9,3,0],[37,10,3,0,"_dependencyMap"],[37,24,3,0],[38,2,4,0],[38,6,4,0,"_expoConstants"],[38,20,4,0],[38,23,4,0,"require"],[38,30,4,0],[38,31,4,0,"_dependencyMap"],[38,45,4,0],[39,2,4,0],[39,6,4,0,"Constants"],[39,15,4,0],[39,18,4,0,"_interopDefault"],[39,33,4,0],[39,34,4,0,"_expoConstants"],[39,48,4,0],[40,2,6,0],[41,2,7,0,"Notifications"],[41,15,7,13],[41,16,7,14,"setNotificationHandler"],[41,38,7,36],[41,39,7,37],[42,4,8,2,"handleNotification"],[42,22,8,20],[43,6,8,20],[43,10,8,20,"_ref"],[43,14,8,20],[43,21,8,20,"_asyncToGenerator"],[43,38,8,20],[43,39,8,20,"default"],[43,46,8,20],[43,48,8,22],[44,8,8,22],[44,15,8,35],[45,10,9,4,"shouldShowAlert"],[45,25,9,19],[45,27,9,21],[45,31,9,25],[46,10,10,4,"shouldPlaySound"],[46,25,10,19],[46,27,10,21],[46,31,10,25],[47,10,11,4,"shouldSetBadge"],[47,24,11,18],[47,26,11,20],[48,8,12,2],[48,9,12,3],[49,6,12,3],[49,7,12,4],[50,6,12,4],[50,22,8,2,"handleNotification"],[50,40,8,20,"handleNotification"],[50,41,8,20],[51,8,8,20],[51,15,8,20,"_ref"],[51,19,8,20],[51,20,8,20,"apply"],[51,25,8,20],[51,32,8,20,"arguments"],[51,41,8,20],[52,6,8,20],[53,4,8,20],[54,2,13,0],[54,3,13,1],[54,4,13,2],[55,2,21,0],[56,0,22,0],[57,0,23,0],[58,2,21,0],[58,11,24,22,"registerForPushNotificationsAsync"],[58,44,24,55,"registerForPushNotificationsAsync"],[58,45,24,55],[59,4,24,55],[59,11,24,55,"_registerForPushNotificationsAsync"],[59,45,24,55],[59,46,24,55,"apply"],[59,51,24,55],[59,58,24,55,"arguments"],[59,67,24,55],[60,2,24,55],[61,2,71,0],[62,0,72,0],[63,0,73,0],[64,2,71,0],[64,11,71,0,"_registerForPushNotificationsAsync"],[64,46,71,0],[65,4,71,0,"_registerForPushNotificationsAsync"],[65,38,71,0],[65,45,71,0,"_asyncToGenerator"],[65,62,71,0],[65,63,71,0,"default"],[65,70,71,0],[65,72,24,7],[65,85,24,82],[66,6,25,2],[66,10,25,6,"token"],[66,15,25,11],[66,18,25,14],[66,22,25,18],[67,6,36,2],[67,10,36,6,"Device"],[67,16,36,12],[67,17,36,13,"isDevice"],[67,25,36,21],[67,27,36,23],[68,8,37,4],[68,12,37,4,"_yield$Notifications$"],[68,33,37,4],[68,42,37,45,"Notifications"],[68,55,37,58],[68,56,37,59,"getPermissionsAsync"],[68,75,37,78],[68,76,37,79],[68,77,37,80],[69,10,37,20,"existingStatus"],[69,24,37,34],[69,27,37,34,"_yield$Notifications$"],[69,48,37,34],[69,49,37,12,"status"],[69,55,37,18],[70,8,38,4],[70,12,38,8,"finalStatus"],[70,23,38,19],[70,26,38,22,"existingStatus"],[70,40,38,36],[71,8,40,4],[71,12,40,8,"existingStatus"],[71,26,40,22],[71,31,40,27],[71,40,40,36],[71,42,40,38],[72,10,41,6],[72,14,41,6,"_yield$Notifications$2"],[72,36,41,6],[72,45,41,31,"Notifications"],[72,58,41,44],[72,59,41,45,"requestPermissionsAsync"],[72,82,41,68],[72,83,41,69],[72,84,41,70],[73,12,41,14,"status"],[73,18,41,20],[73,21,41,20,"_yield$Notifications$2"],[73,43,41,20],[73,44,41,14,"status"],[73,50,41,20],[74,10,42,6,"finalStatus"],[74,21,42,17],[74,24,42,20,"status"],[74,30,42,26],[75,8,43,4],[76,8,45,4],[76,12,45,8,"finalStatus"],[76,23,45,19],[76,28,45,24],[76,37,45,33],[76,39,45,35],[77,10,46,6,"console"],[77,17,46,13],[77,18,46,14,"log"],[77,21,46,17],[77,22,46,18],[77,71,46,67],[77,72,46,68],[78,10,47,6],[78,17,47,13],[78,21,47,17],[79,8,48,4],[80,8,50,4],[80,12,50,8],[81,10,51,6],[81,14,51,12,"projectId"],[81,23,51,21],[81,26,51,24,"Constants"],[81,35,51,33],[81,36,51,33,"default"],[81,43,51,33],[81,44,51,34,"expoConfig"],[81,54,51,44],[81,56,51,46,"extra"],[81,61,51,51],[81,63,51,53,"eas"],[81,66,51,56],[81,68,51,58,"projectId"],[81,77,51,67],[81,81,51,71,"Constants"],[81,90,51,80],[81,91,51,80,"default"],[81,98,51,80],[81,99,51,81,"easConfig"],[81,108,51,90],[81,110,51,92,"projectId"],[81,119,51,101],[82,10,53,6],[82,14,53,10],[82,15,53,11,"projectId"],[82,24,53,20],[82,26,53,22],[83,12,54,8,"console"],[83,19,54,15],[83,20,54,16,"log"],[83,23,54,19],[83,24,54,20],[83,46,54,42],[83,47,54,43],[84,12,55,8],[84,19,55,15],[84,23,55,19],[85,10,56,6],[86,10,58,6,"token"],[86,15,58,11],[86,18,58,14],[86,25,58,21,"Notifications"],[86,38,58,34],[86,39,58,35,"getExpoPushTokenAsync"],[86,60,58,56],[86,61,58,57],[87,12,58,59,"projectId"],[88,10,58,69],[88,11,58,70],[88,12,58,71],[88,14,58,73,"data"],[88,18,58,77],[89,10,59,6,"console"],[89,17,59,13],[89,18,59,14,"log"],[89,21,59,17],[89,22,59,18],[89,35,59,31],[89,37,59,33,"token"],[89,42,59,38],[89,43,59,39],[90,8,60,4],[90,9,60,5],[90,10,60,6],[90,17,60,13,"error"],[90,22,60,18],[90,24,60,20],[91,10,61,6,"console"],[91,17,61,13],[91,18,61,14,"error"],[91,23,61,19],[91,24,61,20],[91,51,61,47],[91,53,61,49,"error"],[91,58,61,54],[91,59,61,55],[92,10,62,6],[92,17,62,13],[92,21,62,17],[93,8,63,4],[94,6,64,2],[94,7,64,3],[94,13,64,9],[95,8,65,4,"console"],[95,15,65,11],[95,16,65,12,"log"],[95,19,65,15],[95,20,65,16],[95,69,65,65],[95,70,65,66],[96,6,66,2],[97,6,68,2],[97,13,68,9,"token"],[97,18,68,14],[98,4,69,0],[98,5,69,1],[99,4,69,1],[99,11,69,1,"_registerForPushNotificationsAsync"],[99,45,69,1],[99,46,69,1,"apply"],[99,51,69,1],[99,58,69,1,"arguments"],[99,67,69,1],[100,2,69,1],[101,2,74,7],[101,11,74,16,"addNotificationReceivedListener"],[101,42,74,47,"addNotificationReceivedListener"],[101,43,75,2,"callback"],[101,51,75,62],[101,53,76,2],[102,4,77,2],[102,11,77,9,"Notifications"],[102,24,77,22],[102,25,77,23,"addNotificationReceivedListener"],[102,56,77,54],[102,57,77,55,"callback"],[102,65,77,63],[102,66,77,64],[103,2,78,0],[105,2,80,0],[106,0,81,0],[107,0,82,0],[108,2,83,7],[108,11,83,16,"addNotificationResponseReceivedListener"],[108,50,83,55,"addNotificationResponseReceivedListener"],[108,51,84,2,"callback"],[108,59,84,66],[108,61,85,2],[109,4,86,2],[109,11,86,9,"Notifications"],[109,24,86,22],[109,25,86,23,"addNotificationResponseReceivedListener"],[109,64,86,62],[109,65,86,63,"callback"],[109,73,86,71],[109,74,86,72],[110,2,87,0],[112,2,89,0],[113,0,90,0],[114,0,91,0],[115,2,89,0],[115,11,92,22,"sendLocalNotification"],[115,32,92,43,"sendLocalNotification"],[115,33,92,43,"_x"],[115,35,92,43],[115,37,92,43,"_x2"],[115,40,92,43],[115,42,92,43,"_x3"],[115,45,92,43],[116,4,92,43],[116,11,92,43,"_sendLocalNotification"],[116,33,92,43],[116,34,92,43,"apply"],[116,39,92,43],[116,46,92,43,"arguments"],[116,55,92,43],[117,2,92,43],[118,2,92,43],[118,11,92,43,"_sendLocalNotification"],[118,34,92,43],[119,4,92,43,"_sendLocalNotification"],[119,26,92,43],[119,33,92,43,"_asyncToGenerator"],[119,50,92,43],[119,51,92,43,"default"],[119,58,92,43],[119,60,92,7],[119,71,92,44,"title"],[119,76,92,57],[119,78,92,59,"body"],[119,82,92,71],[119,84,92,73,"data"],[119,88,92,83],[119,90,92,85],[120,6,93,2],[120,12,93,8,"Notifications"],[120,25,93,21],[120,26,93,22,"scheduleNotificationAsync"],[120,51,93,47],[120,52,93,48],[121,8,94,4,"content"],[121,15,94,11],[121,17,94,13],[122,10,95,6,"title"],[122,15,95,11],[123,10,96,6,"body"],[123,14,96,10],[124,10,97,6,"data"],[124,14,97,10],[124,16,97,12,"data"],[124,20,97,16],[124,24,97,20],[124,25,97,21],[124,26,97,22],[125,10,98,6,"sound"],[125,15,98,11],[125,17,98,13],[126,8,99,4],[126,9,99,5],[127,8,100,4,"trigger"],[127,15,100,11],[127,17,100,13],[127,21,100,17],[127,22,100,19],[128,6,101,2],[128,7,101,3],[128,8,101,4],[129,4,102,0],[129,5,102,1],[130,4,102,1],[130,11,102,1,"_sendLocalNotification"],[130,33,102,1],[130,34,102,1,"apply"],[130,39,102,1],[130,46,102,1,"arguments"],[130,55,102,1],[131,2,102,1],[132,0,102,1],[132,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","registerForPushNotificationsAsync","addNotificationReceivedListener","addNotificationResponseReceivedListener","sendLocalNotification"],"mappings":"AAA;sBCO;IDI;OEY;CF6C;OGK;CHI;OIK;CJI;OKK;CLU"},"hasCjsExports":false},"type":"js/module"}]}