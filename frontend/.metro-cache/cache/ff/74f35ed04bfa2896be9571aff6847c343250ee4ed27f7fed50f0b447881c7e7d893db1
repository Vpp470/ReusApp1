{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"../services/notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":178},"end":{"line":5,"column":78,"index":256}}],"key":"PilFUkBfYpg1cVGLNRiWDw/oULQ=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":257},"end":{"line":6,"column":34,"index":291}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"useAuthStore\",{enumerable:!0,get:function(){return h}});var t=r(d[0]),o=e(r(d[1]));r(d[2]);var s=r(d[3]),n=e(r(d[4]));const u=async e=>'undefined'!=typeof localStorage?localStorage.getItem(e):o.default.getItem(e),c=async(e,t)=>{if('undefined'==typeof localStorage)return o.default.setItem(e,t);localStorage.setItem(e,t)},l=async e=>{if('undefined'==typeof localStorage)return o.default.removeItem(e);localStorage.removeItem(e)},h=(0,t.create)(e=>({user:null,token:null,isAuthenticated:!1,isLoading:!0,hasConsent:!1,setUser:t=>e({user:t,isAuthenticated:!!t}),setToken:t=>e({token:t}),setConsent:async t=>{try{await c('hasConsent',t?'true':'false'),console.log('\\u2705 Consent saved:',t),e({hasConsent:t})}catch(e){console.error('\\u274c Error saving consent:',e)}},login:async(t,o)=>{try{await c('user',JSON.stringify(t)),await c('token',o),await c('isAuthenticated','true'),console.log('\\u2705 Auth data saved to storage'),e({user:t,token:o,isAuthenticated:!0});try{const e=await(0,s.registerForPushNotificationsAsync)();e&&(await n.default.put('/users/push-token',{push_token:e},{headers:{Authorization:o}}),console.log('Push token registered successfully'))}catch(e){console.error('Error registering push token:',e)}}catch(e){console.error('\\u274c Error saving auth data:',e)}},logout:async()=>{try{await l('user'),await l('token'),await l('isAuthenticated'),console.log('\\u2705 Auth data removed from storage'),e({user:null,token:null,isAuthenticated:!1})}catch(e){console.error('\\u274c Error removing auth data:',e)}},loadStoredAuth:async()=>{try{console.log('\\ud83d\\udd0d Loading stored auth...');const t=await u('user'),o=await u('token'),s=await u('isAuthenticated'),n=await u('hasConsent');console.log('\\ud83d\\udce6 Stored data:',{hasUser:!!t,hasToken:!!o,isAuth:s,hasConsent:n});const c='true'===n;if(t&&o&&'true'===s){const s=JSON.parse(t);console.log('\\u2705 Auth restored for user:',s.email),e({user:s,token:o,isAuthenticated:!0,hasConsent:c,isLoading:!1})}else console.log('\\u2139\\ufe0f No stored auth found'),e({hasConsent:c,isLoading:!1})}catch(t){console.error('\\u274c Error loading stored auth:',t),e({isLoading:!1})}}}))});","lineCount":1,"map":[[1,143,46,0,"Object"],[1,150,46,0,"defineProperty"],[1,165,46,0,"_e"],[1,168,46,0],[1,184,46,0,"enumerable"],[1,196,46,0],[1,198,46,0,"get"],[1,202,46,0],[1,220,46,0,"useAuthStore"],[1,221,46,0],[1,225,1,0],[1,229,1,0,"_zustand"],[1,231,1,0,"r"],[1,233,1,0,"d"],[1,235,1,0],[1,239,2,0,"AsyncStorage"],[1,241,2,0,"_interopDefault"],[1,243,2,0,"r"],[1,245,2,0,"d"],[1,247,2,0],[1,252,2,69,"r"],[1,254,2,69,"d"],[1,256,2,69],[1,260,5,0],[1,264,5,0,"_servicesNotifications"],[1,266,5,0,"r"],[1,268,5,0,"d"],[1,270,5,0],[1,274,6,0,"api"],[1,276,6,0,"_interopDefault"],[1,278,6,0,"r"],[1,280,6,0,"d"],[1,282,6,0],[1,287,9,0],[1,293,9,6,"storage"],[1,295,10,11,"async"],[1,304,11,57],[1,324,11,40,"localStorage"],[1,337,12,13,"localStorage"],[1,350,12,26,"getItem"],[1,358,12,34,"key"],[1,361,14,11,"AsyncStorage"],[1,363,14,23,"default"],[1,371,14,24,"getItem"],[1,379,14,32,"key"],[1,382,9,6,"storage"],[1,384,16,11,"async"],[1,390,16,18,"key"],[1,392,16,31,"value"],[1,397,17,4],[1,400,17,57],[1,420,17,40,"localStorage"],[1,433,21,4],[1,440,21,11,"AsyncStorage"],[1,442,21,23,"default"],[1,450,21,24,"setItem"],[1,458,21,32,"key"],[1,460,21,37,"value"],[1,463,18,6,"localStorage"],[1,476,18,19,"setItem"],[1,484,18,27,"key"],[1,486,18,32,"value"],[1,490,9,6,"storage"],[1,492,23,14,"async"],[1,502,24,4],[1,505,24,57],[1,525,24,40,"localStorage"],[1,538,28,4],[1,545,28,11,"AsyncStorage"],[1,547,28,23,"default"],[1,555,28,24,"removeItem"],[1,566,28,35,"key"],[1,569,25,6,"localStorage"],[1,582,25,19,"removeItem"],[1,593,25,30,"key"],[1,597,46,13,"useAuthStore"],[1,600,46,28],[1,602,46,28,"create"],[1,604,46,34,"create"],[1,612,46,47,"set"],[1,616,46,50],[1,617,47,2,"user"],[1,622,47,8],[1,627,48,2,"token"],[1,633,48,9],[1,638,49,2,"isAuthenticated"],[1,655,49,19],[1,657,50,2,"isLoading"],[1,668,50,13],[1,670,51,2,"hasConsent"],[1,682,51,14],[1,684,53,2,"setUser"],[1,692,53,12,"user"],[1,695,53,21,"set"],[1,697,53,25],[1,698,53,27,"user"],[1,705,53,33,"isAuthenticated"],[1,723,53,52,"user"],[1,727,55,2,"setToken"],[1,736,55,13,"token"],[1,739,55,23,"set"],[1,741,55,27],[1,742,55,29,"token"],[1,752,57,2,"setConsent"],[1,763,57,14,"async"],[1,773,58,4],[1,783,59,12,"storage"],[1,785,59,28],[1,798,59,42,"hasConsent"],[1,800,59,55],[1,807,59,64],[1,816,60,6,"console"],[1,824,60,14,"log"],[1,828,60,18],[1,852,60,38,"hasConsent"],[1,855,61,6,"set"],[1,857,61,10],[1,858,61,12,"hasConsent"],[1,872,62,4],[1,873,62,6],[1,879,62,13,"error"],[1,882,63,6,"console"],[1,890,63,14,"error"],[1,896,63,20],[1,927,63,47,"error"],[1,929,64,4],[1,932,67,2,"login"],[1,938,67,9,"async"],[1,944,67,16,"user"],[1,946,67,22,"token"],[1,951,68,4],[1,961,69,12,"storage"],[1,963,69,28],[1,970,69,36,"JSON"],[1,975,69,41,"stringify"],[1,985,69,51,"user"],[1,995,70,12,"storage"],[1,997,70,28],[1,1005,70,37,"token"],[1,1014,71,12,"storage"],[1,1016,71,28],[1,1034,71,47],[1,1042,72,6,"console"],[1,1050,72,14,"log"],[1,1054,72,18],[1,1091,73,6,"set"],[1,1093,73,10],[1,1094,73,12,"user"],[1,1101,73,18,"token"],[1,1109,73,25,"isAuthenticated"],[1,1126,73,42],[1,1130,76,6],[1,1134,77,8],[1,1140,77,14,"pushToken"],[1,1148,77,32],[1,1150,77,32,"registerForPushNotificationsAsync"],[1,1152,77,65,"registerForPushNotificationsAsync"],[1,1189,78,12,"pushToken"],[1,1199,79,16,"api"],[1,1201,79,19,"default"],[1,1209,79,20,"put"],[1,1213,79,24],[1,1233,80,12],[1,1234,80,14,"push_token"],[1,1245,80,26,"pushToken"],[1,1248,81,12],[1,1249,81,14,"headers"],[1,1257,81,23],[1,1258,81,25,"Authorization"],[1,1272,81,40,"token"],[1,1277,83,10,"console"],[1,1285,83,18,"log"],[1,1289,83,22],[1,1327,85,6],[1,1328,85,8],[1,1334,85,15,"error"],[1,1337,86,8,"console"],[1,1345,86,16,"error"],[1,1351,86,22],[1,1383,86,55,"error"],[1,1385,87,6],[1,1386,88,4],[1,1387,88,6],[1,1393,88,13,"error"],[1,1396,89,6,"console"],[1,1404,89,14,"error"],[1,1410,89,20],[1,1443,89,49,"error"],[1,1445,90,4],[1,1448,93,2,"logout"],[1,1455,93,10,"async"],[1,1465,94,4],[1,1475,95,12,"storage"],[1,1477,95,31],[1,1491,96,12,"storage"],[1,1493,96,31],[1,1508,97,12,"storage"],[1,1510,97,31],[1,1529,98,6,"console"],[1,1537,98,14,"log"],[1,1541,98,18],[1,1582,99,6,"set"],[1,1584,99,10],[1,1585,99,12,"user"],[1,1590,99,18],[1,1595,99,24,"token"],[1,1601,99,31],[1,1606,99,37,"isAuthenticated"],[1,1623,99,54],[1,1626,100,4],[1,1627,100,6],[1,1633,100,13,"error"],[1,1636,101,6,"console"],[1,1644,101,14,"error"],[1,1650,101,20],[1,1685,101,51,"error"],[1,1687,102,4],[1,1690,105,2,"loadStoredAuth"],[1,1705,105,18,"async"],[1,1715,106,4],[1,1719,107,6,"console"],[1,1727,107,14,"log"],[1,1731,107,18],[1,1770,108,6],[1,1776,108,12,"userStr"],[1,1784,108,28,"storage"],[1,1786,108,44],[1,1794,109,12,"token"],[1,1802,109,26,"storage"],[1,1804,109,42],[1,1813,110,12,"isAuth"],[1,1821,110,27,"storage"],[1,1823,110,43],[1,1842,111,12,"consentStr"],[1,1850,111,31,"storage"],[1,1852,111,47],[1,1866,113,6,"console"],[1,1874,113,14,"log"],[1,1878,113,18],[1,1906,113,37],[1,1907,114,8,"hasUser"],[1,1917,114,19,"userStr"],[1,1919,115,8,"hasToken"],[1,1930,115,20,"token"],[1,1932,116,8,"isAuth"],[1,1941,117,8,"hasConsent"],[1,1952,117,20,"consentStr"],[1,1956,120,6],[1,1962,120,12,"hasConsent"],[1,1964,120,40],[1,1973,120,25,"consentStr"],[1,1975,122,6],[1,1978,122,10,"userStr"],[1,1981,122,21,"token"],[1,1984,122,41],[1,1993,122,30,"isAuth"],[1,1995,122,49],[1,1996,123,8],[1,2002,123,14,"user"],[1,2004,123,21,"JSON"],[1,2009,123,26,"parse"],[1,2015,123,32,"userStr"],[1,2018,124,8,"console"],[1,2026,124,16,"log"],[1,2030,124,20],[1,2063,124,49,"user"],[1,2065,124,54,"email"],[1,2072,125,8,"set"],[1,2074,125,12],[1,2075,125,14,"user"],[1,2082,125,20,"token"],[1,2090,125,27,"isAuthenticated"],[1,2107,125,44],[1,2109,125,50,"hasConsent"],[1,2122,125,62,"isLoading"],[1,2133,125,73],[1,2136,126,6],[1,2142,127,8,"console"],[1,2150,127,16,"log"],[1,2154,127,20],[1,2191,128,8,"set"],[1,2193,128,12],[1,2194,128,14,"hasConsent"],[1,2207,128,26,"isLoading"],[1,2218,128,37],[1,2221,130,4],[1,2222,130,6],[1,2228,130,13,"error"],[1,2231,131,6,"console"],[1,2239,131,14,"error"],[1,2245,131,20],[1,2281,131,52,"error"],[1,2284,132,6,"set"],[1,2286,132,10],[1,2287,132,12,"isLoading"],[1,2298,132,23],[1,2301,133,4],[1,2306,135,4],[1,2309]],"functionMap":{"names":["<global>","storage.getItem","storage.setItem","storage.removeItem","create$argument_0","setUser","setToken","setConsent","login","logout","loadStoredAuth"],"mappings":"AAA;WCS;GDK;WEC;GFM;cGC;GHM;8CIiB;WCO,gDD;YEE,yBF;cGE;GHQ;SIE;GJwB;UKE;GLU;kBME;GN6B;EJC"},"hasCjsExports":false},"type":"js/module"}]}