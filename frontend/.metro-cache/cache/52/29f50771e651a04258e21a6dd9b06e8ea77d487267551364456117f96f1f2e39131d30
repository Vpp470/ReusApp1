{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":137},"end":{"line":4,"column":78,"index":215}}],"key":"PilFUkBfYpg1cVGLNRiWDw/oULQ=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":216},"end":{"line":5,"column":34,"index":250}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesNotifications = require(_dependencyMap[2], \"../services/notifications\");\n  var _servicesApi = require(_dependencyMap[3], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isAuthenticated: false,\n    isLoading: true,\n    hasConsent: false,\n    setUser: user => set({\n      user,\n      isAuthenticated: !!user\n    }),\n    setToken: token => set({\n      token\n    }),\n    setConsent: async hasConsent => {\n      try {\n        await AsyncStorage.default.setItem('hasConsent', hasConsent ? 'true' : 'false');\n        console.log('‚úÖ Consent saved:', hasConsent);\n        set({\n          hasConsent\n        });\n      } catch (error) {\n        console.error('‚ùå Error saving consent:', error);\n      }\n    },\n    login: async (user, token) => {\n      try {\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        await AsyncStorage.default.setItem('token', token);\n        await AsyncStorage.default.setItem('isAuthenticated', 'true');\n        console.log('‚úÖ Auth data saved to AsyncStorage');\n        set({\n          user,\n          token,\n          isAuthenticated: true\n        });\n\n        // Registrar push token\n        try {\n          const pushToken = await (0, _servicesNotifications.registerForPushNotificationsAsync)();\n          if (pushToken) {\n            await api.default.put('/users/push-token', {\n              push_token: pushToken\n            }, {\n              headers: {\n                Authorization: token\n              }\n            });\n            console.log('Push token registered successfully');\n          }\n        } catch (error) {\n          console.error('Error registering push token:', error);\n        }\n      } catch (error) {\n        console.error('‚ùå Error saving auth data:', error);\n      }\n    },\n    logout: async () => {\n      try {\n        await AsyncStorage.default.removeItem('user');\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('isAuthenticated');\n        console.log('‚úÖ Auth data removed from AsyncStorage');\n        set({\n          user: null,\n          token: null,\n          isAuthenticated: false\n        });\n      } catch (error) {\n        console.error('‚ùå Error removing auth data:', error);\n      }\n    },\n    loadStoredAuth: async () => {\n      try {\n        console.log('üîç Loading stored auth...');\n        const userStr = await AsyncStorage.default.getItem('user');\n        const token = await AsyncStorage.default.getItem('token');\n        const isAuth = await AsyncStorage.default.getItem('isAuthenticated');\n        const consentStr = await AsyncStorage.default.getItem('hasConsent');\n        console.log('üì¶ Stored data:', {\n          hasUser: !!userStr,\n          hasToken: !!token,\n          isAuth,\n          hasConsent: consentStr\n        });\n        const hasConsent = consentStr === 'true';\n        if (userStr && token && isAuth === 'true') {\n          const user = JSON.parse(userStr);\n          console.log('‚úÖ Auth restored for user:', user.email);\n          set({\n            user,\n            token,\n            isAuthenticated: true,\n            hasConsent,\n            isLoading: false\n          });\n        } else {\n          console.log('‚ÑπÔ∏è No stored auth found');\n          set({\n            hasConsent,\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('‚ùå Error loading stored auth:', error);\n        set({\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":134,"map":[[12,2,21,0,"Object"],[12,8,21,0],[12,9,21,0,"defineProperty"],[12,23,21,0],[12,24,21,0,"exports"],[12,31,21,0],[13,4,21,0,"enumerable"],[13,14,21,0],[14,4,21,0,"get"],[14,7,21,0],[14,18,21,0,"get"],[14,19,21,0],[15,6,21,0],[15,13,21,0,"useAuthStore"],[15,25,21,0],[16,4,21,0],[17,2,21,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,4,0],[21,6,4,0,"_servicesNotifications"],[21,28,4,0],[21,31,4,0,"require"],[21,38,4,0],[21,39,4,0,"_dependencyMap"],[21,53,4,0],[22,2,5,0],[22,6,5,0,"_servicesApi"],[22,18,5,0],[22,21,5,0,"require"],[22,28,5,0],[22,29,5,0,"_dependencyMap"],[22,43,5,0],[23,2,5,0],[23,6,5,0,"api"],[23,9,5,0],[23,12,5,0,"_interopDefault"],[23,27,5,0],[23,28,5,0,"_servicesApi"],[23,40,5,0],[24,2,21,7],[24,8,21,13,"useAuthStore"],[24,20,21,25],[24,23,21,28],[24,27,21,28,"create"],[24,35,21,34],[24,36,21,34,"create"],[24,42,21,34],[24,44,21,47,"set"],[24,47,21,50],[24,52,21,56],[25,4,22,2,"user"],[25,8,22,6],[25,10,22,8],[25,14,22,12],[26,4,23,2,"token"],[26,9,23,7],[26,11,23,9],[26,15,23,13],[27,4,24,2,"isAuthenticated"],[27,19,24,17],[27,21,24,19],[27,26,24,24],[28,4,25,2,"isLoading"],[28,13,25,11],[28,15,25,13],[28,19,25,17],[29,4,26,2,"hasConsent"],[29,14,26,12],[29,16,26,14],[29,21,26,19],[30,4,28,2,"setUser"],[30,11,28,9],[30,13,28,12,"user"],[30,17,28,16],[30,21,28,21,"set"],[30,24,28,24],[30,25,28,25],[31,6,28,27,"user"],[31,10,28,31],[32,6,28,33,"isAuthenticated"],[32,21,28,48],[32,23,28,50],[32,24,28,51],[32,25,28,52,"user"],[33,4,28,57],[33,5,28,58],[33,6,28,59],[34,4,30,2,"setToken"],[34,12,30,10],[34,14,30,13,"token"],[34,19,30,18],[34,23,30,23,"set"],[34,26,30,26],[34,27,30,27],[35,6,30,29,"token"],[36,4,30,35],[36,5,30,36],[36,6,30,37],[37,4,32,2,"setConsent"],[37,14,32,12],[37,16,32,14],[37,22,32,21,"hasConsent"],[37,32,32,31],[37,36,32,36],[38,6,33,4],[38,10,33,8],[39,8,34,6],[39,14,34,12,"AsyncStorage"],[39,26,34,24],[39,27,34,24,"default"],[39,34,34,24],[39,35,34,25,"setItem"],[39,42,34,32],[39,43,34,33],[39,55,34,45],[39,57,34,47,"hasConsent"],[39,67,34,57],[39,70,34,60],[39,76,34,66],[39,79,34,69],[39,86,34,76],[39,87,34,77],[40,8,35,6,"console"],[40,15,35,13],[40,16,35,14,"log"],[40,19,35,17],[40,20,35,18],[40,38,35,36],[40,40,35,38,"hasConsent"],[40,50,35,48],[40,51,35,49],[41,8,36,6,"set"],[41,11,36,9],[41,12,36,10],[42,10,36,12,"hasConsent"],[43,8,36,23],[43,9,36,24],[43,10,36,25],[44,6,37,4],[44,7,37,5],[44,8,37,6],[44,15,37,13,"error"],[44,20,37,18],[44,22,37,20],[45,8,38,6,"console"],[45,15,38,13],[45,16,38,14,"error"],[45,21,38,19],[45,22,38,20],[45,47,38,45],[45,49,38,47,"error"],[45,54,38,52],[45,55,38,53],[46,6,39,4],[47,4,40,2],[47,5,40,3],[48,4,42,2,"login"],[48,9,42,7],[48,11,42,9],[48,17,42,9,"login"],[48,18,42,16,"user"],[48,22,42,20],[48,24,42,22,"token"],[48,29,42,27],[48,34,42,32],[49,6,43,4],[49,10,43,8],[50,8,44,6],[50,14,44,12,"AsyncStorage"],[50,26,44,24],[50,27,44,24,"default"],[50,34,44,24],[50,35,44,25,"setItem"],[50,42,44,32],[50,43,44,33],[50,49,44,39],[50,51,44,41,"JSON"],[50,55,44,45],[50,56,44,46,"stringify"],[50,65,44,55],[50,66,44,56,"user"],[50,70,44,60],[50,71,44,61],[50,72,44,62],[51,8,45,6],[51,14,45,12,"AsyncStorage"],[51,26,45,24],[51,27,45,24,"default"],[51,34,45,24],[51,35,45,25,"setItem"],[51,42,45,32],[51,43,45,33],[51,50,45,40],[51,52,45,42,"token"],[51,57,45,47],[51,58,45,48],[52,8,46,6],[52,14,46,12,"AsyncStorage"],[52,26,46,24],[52,27,46,24,"default"],[52,34,46,24],[52,35,46,25,"setItem"],[52,42,46,32],[52,43,46,33],[52,60,46,50],[52,62,46,52],[52,68,46,58],[52,69,46,59],[53,8,47,6,"console"],[53,15,47,13],[53,16,47,14,"log"],[53,19,47,17],[53,20,47,18],[53,55,47,53],[53,56,47,54],[54,8,48,6,"set"],[54,11,48,9],[54,12,48,10],[55,10,48,12,"user"],[55,14,48,16],[56,10,48,18,"token"],[56,15,48,23],[57,10,48,25,"isAuthenticated"],[57,25,48,40],[57,27,48,42],[58,8,48,47],[58,9,48,48],[58,10,48,49],[60,8,50,6],[61,8,51,6],[61,12,51,10],[62,10,52,8],[62,16,52,14,"pushToken"],[62,25,52,23],[62,28,52,26],[62,34,52,32],[62,38,52,32,"registerForPushNotificationsAsync"],[62,60,52,65],[62,61,52,65,"registerForPushNotificationsAsync"],[62,94,52,65],[62,96,52,66],[62,97,52,67],[63,10,53,8],[63,14,53,12,"pushToken"],[63,23,53,21],[63,25,53,23],[64,12,54,10],[64,18,54,16,"api"],[64,21,54,19],[64,22,54,19,"default"],[64,29,54,19],[64,30,54,20,"put"],[64,33,54,23],[64,34,54,24],[64,53,54,43],[64,55,55,12],[65,14,55,14,"push_token"],[65,24,55,24],[65,26,55,26,"pushToken"],[66,12,55,36],[66,13,55,37],[66,15,56,12],[67,14,56,14,"headers"],[67,21,56,21],[67,23,56,23],[68,16,56,25,"Authorization"],[68,29,56,38],[68,31,56,40,"token"],[69,14,56,46],[70,12,56,48],[70,13,57,10],[70,14,57,11],[71,12,58,10,"console"],[71,19,58,17],[71,20,58,18,"log"],[71,23,58,21],[71,24,58,22],[71,60,58,58],[71,61,58,59],[72,10,59,8],[73,8,60,6],[73,9,60,7],[73,10,60,8],[73,17,60,15,"error"],[73,22,60,20],[73,24,60,22],[74,10,61,8,"console"],[74,17,61,15],[74,18,61,16,"error"],[74,23,61,21],[74,24,61,22],[74,55,61,53],[74,57,61,55,"error"],[74,62,61,60],[74,63,61,61],[75,8,62,6],[76,6,63,4],[76,7,63,5],[76,8,63,6],[76,15,63,13,"error"],[76,20,63,18],[76,22,63,20],[77,8,64,6,"console"],[77,15,64,13],[77,16,64,14,"error"],[77,21,64,19],[77,22,64,20],[77,49,64,47],[77,51,64,49,"error"],[77,56,64,54],[77,57,64,55],[78,6,65,4],[79,4,66,2],[79,5,66,3],[80,4,68,2,"logout"],[80,10,68,8],[80,12,68,10],[80,18,68,10,"logout"],[80,19,68,10],[80,24,68,22],[81,6,69,4],[81,10,69,8],[82,8,70,6],[82,14,70,12,"AsyncStorage"],[82,26,70,24],[82,27,70,24,"default"],[82,34,70,24],[82,35,70,25,"removeItem"],[82,45,70,35],[82,46,70,36],[82,52,70,42],[82,53,70,43],[83,8,71,6],[83,14,71,12,"AsyncStorage"],[83,26,71,24],[83,27,71,24,"default"],[83,34,71,24],[83,35,71,25,"removeItem"],[83,45,71,35],[83,46,71,36],[83,53,71,43],[83,54,71,44],[84,8,72,6],[84,14,72,12,"AsyncStorage"],[84,26,72,24],[84,27,72,24,"default"],[84,34,72,24],[84,35,72,25,"removeItem"],[84,45,72,35],[84,46,72,36],[84,63,72,53],[84,64,72,54],[85,8,73,6,"console"],[85,15,73,13],[85,16,73,14,"log"],[85,19,73,17],[85,20,73,18],[85,59,73,57],[85,60,73,58],[86,8,74,6,"set"],[86,11,74,9],[86,12,74,10],[87,10,74,12,"user"],[87,14,74,16],[87,16,74,18],[87,20,74,22],[88,10,74,24,"token"],[88,15,74,29],[88,17,74,31],[88,21,74,35],[89,10,74,37,"isAuthenticated"],[89,25,74,52],[89,27,74,54],[90,8,74,60],[90,9,74,61],[90,10,74,62],[91,6,75,4],[91,7,75,5],[91,8,75,6],[91,15,75,13,"error"],[91,20,75,18],[91,22,75,20],[92,8,76,6,"console"],[92,15,76,13],[92,16,76,14,"error"],[92,21,76,19],[92,22,76,20],[92,51,76,49],[92,53,76,51,"error"],[92,58,76,56],[92,59,76,57],[93,6,77,4],[94,4,78,2],[94,5,78,3],[95,4,80,2,"loadStoredAuth"],[95,18,80,16],[95,20,80,18],[95,26,80,18,"loadStoredAuth"],[95,27,80,18],[95,32,80,30],[96,6,81,4],[96,10,81,8],[97,8,82,6,"console"],[97,15,82,13],[97,16,82,14,"log"],[97,19,82,17],[97,20,82,18],[97,47,82,45],[97,48,82,46],[98,8,83,6],[98,14,83,12,"userStr"],[98,21,83,19],[98,24,83,22],[98,30,83,28,"AsyncStorage"],[98,42,83,40],[98,43,83,40,"default"],[98,50,83,40],[98,51,83,41,"getItem"],[98,58,83,48],[98,59,83,49],[98,65,83,55],[98,66,83,56],[99,8,84,6],[99,14,84,12,"token"],[99,19,84,17],[99,22,84,20],[99,28,84,26,"AsyncStorage"],[99,40,84,38],[99,41,84,38,"default"],[99,48,84,38],[99,49,84,39,"getItem"],[99,56,84,46],[99,57,84,47],[99,64,84,54],[99,65,84,55],[100,8,85,6],[100,14,85,12,"isAuth"],[100,20,85,18],[100,23,85,21],[100,29,85,27,"AsyncStorage"],[100,41,85,39],[100,42,85,39,"default"],[100,49,85,39],[100,50,85,40,"getItem"],[100,57,85,47],[100,58,85,48],[100,75,85,65],[100,76,85,66],[101,8,86,6],[101,14,86,12,"consentStr"],[101,24,86,22],[101,27,86,25],[101,33,86,31,"AsyncStorage"],[101,45,86,43],[101,46,86,43,"default"],[101,53,86,43],[101,54,86,44,"getItem"],[101,61,86,51],[101,62,86,52],[101,74,86,64],[101,75,86,65],[102,8,88,6,"console"],[102,15,88,13],[102,16,88,14,"log"],[102,19,88,17],[102,20,88,18],[102,37,88,35],[102,39,88,37],[103,10,89,8,"hasUser"],[103,17,89,15],[103,19,89,17],[103,20,89,18],[103,21,89,19,"userStr"],[103,28,89,26],[104,10,90,8,"hasToken"],[104,18,90,16],[104,20,90,18],[104,21,90,19],[104,22,90,20,"token"],[104,27,90,25],[105,10,91,8,"isAuth"],[105,16,91,14],[106,10,92,8,"hasConsent"],[106,20,92,18],[106,22,92,20,"consentStr"],[107,8,93,6],[107,9,93,7],[107,10,93,8],[108,8,95,6],[108,14,95,12,"hasConsent"],[108,24,95,22],[108,27,95,25,"consentStr"],[108,37,95,35],[108,42,95,40],[108,48,95,46],[109,8,97,6],[109,12,97,10,"userStr"],[109,19,97,17],[109,23,97,21,"token"],[109,28,97,26],[109,32,97,30,"isAuth"],[109,38,97,36],[109,43,97,41],[109,49,97,47],[109,51,97,49],[110,10,98,8],[110,16,98,14,"user"],[110,20,98,18],[110,23,98,21,"JSON"],[110,27,98,25],[110,28,98,26,"parse"],[110,33,98,31],[110,34,98,32,"userStr"],[110,41,98,39],[110,42,98,40],[111,10,99,8,"console"],[111,17,99,15],[111,18,99,16,"log"],[111,21,99,19],[111,22,99,20],[111,49,99,47],[111,51,99,49,"user"],[111,55,99,53],[111,56,99,54,"email"],[111,61,99,59],[111,62,99,60],[112,10,100,8,"set"],[112,13,100,11],[112,14,100,12],[113,12,100,14,"user"],[113,16,100,18],[114,12,100,20,"token"],[114,17,100,25],[115,12,100,27,"isAuthenticated"],[115,27,100,42],[115,29,100,44],[115,33,100,48],[116,12,100,50,"hasConsent"],[116,22,100,60],[117,12,100,62,"isLoading"],[117,21,100,71],[117,23,100,73],[118,10,100,79],[118,11,100,80],[118,12,100,81],[119,8,101,6],[119,9,101,7],[119,15,101,13],[120,10,102,8,"console"],[120,17,102,15],[120,18,102,16,"log"],[120,21,102,19],[120,22,102,20],[120,47,102,45],[120,48,102,46],[121,10,103,8,"set"],[121,13,103,11],[121,14,103,12],[122,12,103,14,"hasConsent"],[122,22,103,24],[123,12,103,26,"isLoading"],[123,21,103,35],[123,23,103,37],[124,10,103,43],[124,11,103,44],[124,12,103,45],[125,8,104,6],[126,6,105,4],[126,7,105,5],[126,8,105,6],[126,15,105,13,"error"],[126,20,105,18],[126,22,105,20],[127,8,106,6,"console"],[127,15,106,13],[127,16,106,14,"error"],[127,21,106,19],[127,22,106,20],[127,52,106,50],[127,54,106,52,"error"],[127,59,106,57],[127,60,106,58],[128,8,107,6,"set"],[128,11,107,9],[128,12,107,10],[129,10,107,12,"isLoading"],[129,19,107,21],[129,21,107,23],[130,8,107,29],[130,9,107,30],[130,10,107,31],[131,6,108,4],[132,4,109,2],[133,2,110,0],[133,3,110,1],[133,4,110,2],[133,5,110,3],[134,0,110,4],[134,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setToken","setConsent","login","logout","loadStoredAuth"],"mappings":"AAA;8CCoB;WCO,gDD;YEE,yBF;cGE;GHQ;SIE;GJwB;UKE;GLU;kBME;GN6B;EDC"},"hasCjsExports":false},"type":"js/module"}]}