{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":137},"end":{"line":4,"column":78,"index":215}}],"key":"PilFUkBfYpg1cVGLNRiWDw/oULQ=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":216},"end":{"line":5,"column":34,"index":250}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesNotifications = require(_dependencyMap[2], \"../services/notifications\");\n  var _servicesApi = require(_dependencyMap[3], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isAuthenticated: false,\n    isLoading: true,\n    setUser: user => set({\n      user,\n      isAuthenticated: !!user\n    }),\n    setToken: token => set({\n      token\n    }),\n    login: async (user, token) => {\n      try {\n        await AsyncStorage.default.setItem('user', JSON.stringify(user));\n        await AsyncStorage.default.setItem('token', token);\n        await AsyncStorage.default.setItem('isAuthenticated', 'true');\n        console.log('‚úÖ Auth data saved to AsyncStorage');\n        set({\n          user,\n          token,\n          isAuthenticated: true\n        });\n\n        // Registrar push token\n        try {\n          const pushToken = await (0, _servicesNotifications.registerForPushNotificationsAsync)();\n          if (pushToken) {\n            await api.default.put('/users/push-token', {\n              push_token: pushToken\n            }, {\n              headers: {\n                Authorization: token\n              }\n            });\n            console.log('Push token registered successfully');\n          }\n        } catch (error) {\n          console.error('Error registering push token:', error);\n        }\n      } catch (error) {\n        console.error('‚ùå Error saving auth data:', error);\n      }\n    },\n    logout: async () => {\n      try {\n        await AsyncStorage.default.removeItem('user');\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('isAuthenticated');\n        console.log('‚úÖ Auth data removed from AsyncStorage');\n        set({\n          user: null,\n          token: null,\n          isAuthenticated: false\n        });\n      } catch (error) {\n        console.error('‚ùå Error removing auth data:', error);\n      }\n    },\n    loadStoredAuth: async () => {\n      try {\n        console.log('üîç Loading stored auth...');\n        const userStr = await AsyncStorage.default.getItem('user');\n        const token = await AsyncStorage.default.getItem('token');\n        const isAuth = await AsyncStorage.default.getItem('isAuthenticated');\n        console.log('üì¶ Stored data:', {\n          hasUser: !!userStr,\n          hasToken: !!token,\n          isAuth\n        });\n        if (userStr && token && isAuth === 'true') {\n          const user = JSON.parse(userStr);\n          console.log('‚úÖ Auth restored for user:', user.email);\n          set({\n            user,\n            token,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          console.log('‚ÑπÔ∏è No stored auth found');\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('‚ùå Error loading stored auth:', error);\n        set({\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":117,"map":[[12,2,19,0,"Object"],[12,8,19,0],[12,9,19,0,"defineProperty"],[12,23,19,0],[12,24,19,0,"exports"],[12,31,19,0],[13,4,19,0,"enumerable"],[13,14,19,0],[14,4,19,0,"get"],[14,7,19,0],[14,18,19,0,"get"],[14,19,19,0],[15,6,19,0],[15,13,19,0,"useAuthStore"],[15,25,19,0],[16,4,19,0],[17,2,19,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,4,0],[21,6,4,0,"_servicesNotifications"],[21,28,4,0],[21,31,4,0,"require"],[21,38,4,0],[21,39,4,0,"_dependencyMap"],[21,53,4,0],[22,2,5,0],[22,6,5,0,"_servicesApi"],[22,18,5,0],[22,21,5,0,"require"],[22,28,5,0],[22,29,5,0,"_dependencyMap"],[22,43,5,0],[23,2,5,0],[23,6,5,0,"api"],[23,9,5,0],[23,12,5,0,"_interopDefault"],[23,27,5,0],[23,28,5,0,"_servicesApi"],[23,40,5,0],[24,2,19,7],[24,8,19,13,"useAuthStore"],[24,20,19,25],[24,23,19,28],[24,27,19,28,"create"],[24,35,19,34],[24,36,19,34,"create"],[24,42,19,34],[24,44,19,47,"set"],[24,47,19,50],[24,52,19,56],[25,4,20,2,"user"],[25,8,20,6],[25,10,20,8],[25,14,20,12],[26,4,21,2,"token"],[26,9,21,7],[26,11,21,9],[26,15,21,13],[27,4,22,2,"isAuthenticated"],[27,19,22,17],[27,21,22,19],[27,26,22,24],[28,4,23,2,"isLoading"],[28,13,23,11],[28,15,23,13],[28,19,23,17],[29,4,25,2,"setUser"],[29,11,25,9],[29,13,25,12,"user"],[29,17,25,16],[29,21,25,21,"set"],[29,24,25,24],[29,25,25,25],[30,6,25,27,"user"],[30,10,25,31],[31,6,25,33,"isAuthenticated"],[31,21,25,48],[31,23,25,50],[31,24,25,51],[31,25,25,52,"user"],[32,4,25,57],[32,5,25,58],[32,6,25,59],[33,4,27,2,"setToken"],[33,12,27,10],[33,14,27,13,"token"],[33,19,27,18],[33,23,27,23,"set"],[33,26,27,26],[33,27,27,27],[34,6,27,29,"token"],[35,4,27,35],[35,5,27,36],[35,6,27,37],[36,4,29,2,"login"],[36,9,29,7],[36,11,29,9],[36,17,29,9,"login"],[36,18,29,16,"user"],[36,22,29,20],[36,24,29,22,"token"],[36,29,29,27],[36,34,29,32],[37,6,30,4],[37,10,30,8],[38,8,31,6],[38,14,31,12,"AsyncStorage"],[38,26,31,24],[38,27,31,24,"default"],[38,34,31,24],[38,35,31,25,"setItem"],[38,42,31,32],[38,43,31,33],[38,49,31,39],[38,51,31,41,"JSON"],[38,55,31,45],[38,56,31,46,"stringify"],[38,65,31,55],[38,66,31,56,"user"],[38,70,31,60],[38,71,31,61],[38,72,31,62],[39,8,32,6],[39,14,32,12,"AsyncStorage"],[39,26,32,24],[39,27,32,24,"default"],[39,34,32,24],[39,35,32,25,"setItem"],[39,42,32,32],[39,43,32,33],[39,50,32,40],[39,52,32,42,"token"],[39,57,32,47],[39,58,32,48],[40,8,33,6],[40,14,33,12,"AsyncStorage"],[40,26,33,24],[40,27,33,24,"default"],[40,34,33,24],[40,35,33,25,"setItem"],[40,42,33,32],[40,43,33,33],[40,60,33,50],[40,62,33,52],[40,68,33,58],[40,69,33,59],[41,8,34,6,"console"],[41,15,34,13],[41,16,34,14,"log"],[41,19,34,17],[41,20,34,18],[41,55,34,53],[41,56,34,54],[42,8,35,6,"set"],[42,11,35,9],[42,12,35,10],[43,10,35,12,"user"],[43,14,35,16],[44,10,35,18,"token"],[44,15,35,23],[45,10,35,25,"isAuthenticated"],[45,25,35,40],[45,27,35,42],[46,8,35,47],[46,9,35,48],[46,10,35,49],[48,8,37,6],[49,8,38,6],[49,12,38,10],[50,10,39,8],[50,16,39,14,"pushToken"],[50,25,39,23],[50,28,39,26],[50,34,39,32],[50,38,39,32,"registerForPushNotificationsAsync"],[50,60,39,65],[50,61,39,65,"registerForPushNotificationsAsync"],[50,94,39,65],[50,96,39,66],[50,97,39,67],[51,10,40,8],[51,14,40,12,"pushToken"],[51,23,40,21],[51,25,40,23],[52,12,41,10],[52,18,41,16,"api"],[52,21,41,19],[52,22,41,19,"default"],[52,29,41,19],[52,30,41,20,"put"],[52,33,41,23],[52,34,41,24],[52,53,41,43],[52,55,42,12],[53,14,42,14,"push_token"],[53,24,42,24],[53,26,42,26,"pushToken"],[54,12,42,36],[54,13,42,37],[54,15,43,12],[55,14,43,14,"headers"],[55,21,43,21],[55,23,43,23],[56,16,43,25,"Authorization"],[56,29,43,38],[56,31,43,40,"token"],[57,14,43,46],[58,12,43,48],[58,13,44,10],[58,14,44,11],[59,12,45,10,"console"],[59,19,45,17],[59,20,45,18,"log"],[59,23,45,21],[59,24,45,22],[59,60,45,58],[59,61,45,59],[60,10,46,8],[61,8,47,6],[61,9,47,7],[61,10,47,8],[61,17,47,15,"error"],[61,22,47,20],[61,24,47,22],[62,10,48,8,"console"],[62,17,48,15],[62,18,48,16,"error"],[62,23,48,21],[62,24,48,22],[62,55,48,53],[62,57,48,55,"error"],[62,62,48,60],[62,63,48,61],[63,8,49,6],[64,6,50,4],[64,7,50,5],[64,8,50,6],[64,15,50,13,"error"],[64,20,50,18],[64,22,50,20],[65,8,51,6,"console"],[65,15,51,13],[65,16,51,14,"error"],[65,21,51,19],[65,22,51,20],[65,49,51,47],[65,51,51,49,"error"],[65,56,51,54],[65,57,51,55],[66,6,52,4],[67,4,53,2],[67,5,53,3],[68,4,55,2,"logout"],[68,10,55,8],[68,12,55,10],[68,18,55,10,"logout"],[68,19,55,10],[68,24,55,22],[69,6,56,4],[69,10,56,8],[70,8,57,6],[70,14,57,12,"AsyncStorage"],[70,26,57,24],[70,27,57,24,"default"],[70,34,57,24],[70,35,57,25,"removeItem"],[70,45,57,35],[70,46,57,36],[70,52,57,42],[70,53,57,43],[71,8,58,6],[71,14,58,12,"AsyncStorage"],[71,26,58,24],[71,27,58,24,"default"],[71,34,58,24],[71,35,58,25,"removeItem"],[71,45,58,35],[71,46,58,36],[71,53,58,43],[71,54,58,44],[72,8,59,6],[72,14,59,12,"AsyncStorage"],[72,26,59,24],[72,27,59,24,"default"],[72,34,59,24],[72,35,59,25,"removeItem"],[72,45,59,35],[72,46,59,36],[72,63,59,53],[72,64,59,54],[73,8,60,6,"console"],[73,15,60,13],[73,16,60,14,"log"],[73,19,60,17],[73,20,60,18],[73,59,60,57],[73,60,60,58],[74,8,61,6,"set"],[74,11,61,9],[74,12,61,10],[75,10,61,12,"user"],[75,14,61,16],[75,16,61,18],[75,20,61,22],[76,10,61,24,"token"],[76,15,61,29],[76,17,61,31],[76,21,61,35],[77,10,61,37,"isAuthenticated"],[77,25,61,52],[77,27,61,54],[78,8,61,60],[78,9,61,61],[78,10,61,62],[79,6,62,4],[79,7,62,5],[79,8,62,6],[79,15,62,13,"error"],[79,20,62,18],[79,22,62,20],[80,8,63,6,"console"],[80,15,63,13],[80,16,63,14,"error"],[80,21,63,19],[80,22,63,20],[80,51,63,49],[80,53,63,51,"error"],[80,58,63,56],[80,59,63,57],[81,6,64,4],[82,4,65,2],[82,5,65,3],[83,4,67,2,"loadStoredAuth"],[83,18,67,16],[83,20,67,18],[83,26,67,18,"loadStoredAuth"],[83,27,67,18],[83,32,67,30],[84,6,68,4],[84,10,68,8],[85,8,69,6,"console"],[85,15,69,13],[85,16,69,14,"log"],[85,19,69,17],[85,20,69,18],[85,47,69,45],[85,48,69,46],[86,8,70,6],[86,14,70,12,"userStr"],[86,21,70,19],[86,24,70,22],[86,30,70,28,"AsyncStorage"],[86,42,70,40],[86,43,70,40,"default"],[86,50,70,40],[86,51,70,41,"getItem"],[86,58,70,48],[86,59,70,49],[86,65,70,55],[86,66,70,56],[87,8,71,6],[87,14,71,12,"token"],[87,19,71,17],[87,22,71,20],[87,28,71,26,"AsyncStorage"],[87,40,71,38],[87,41,71,38,"default"],[87,48,71,38],[87,49,71,39,"getItem"],[87,56,71,46],[87,57,71,47],[87,64,71,54],[87,65,71,55],[88,8,72,6],[88,14,72,12,"isAuth"],[88,20,72,18],[88,23,72,21],[88,29,72,27,"AsyncStorage"],[88,41,72,39],[88,42,72,39,"default"],[88,49,72,39],[88,50,72,40,"getItem"],[88,57,72,47],[88,58,72,48],[88,75,72,65],[88,76,72,66],[89,8,74,6,"console"],[89,15,74,13],[89,16,74,14,"log"],[89,19,74,17],[89,20,74,18],[89,37,74,35],[89,39,74,37],[90,10,75,8,"hasUser"],[90,17,75,15],[90,19,75,17],[90,20,75,18],[90,21,75,19,"userStr"],[90,28,75,26],[91,10,76,8,"hasToken"],[91,18,76,16],[91,20,76,18],[91,21,76,19],[91,22,76,20,"token"],[91,27,76,25],[92,10,77,8,"isAuth"],[93,8,78,6],[93,9,78,7],[93,10,78,8],[94,8,80,6],[94,12,80,10,"userStr"],[94,19,80,17],[94,23,80,21,"token"],[94,28,80,26],[94,32,80,30,"isAuth"],[94,38,80,36],[94,43,80,41],[94,49,80,47],[94,51,80,49],[95,10,81,8],[95,16,81,14,"user"],[95,20,81,18],[95,23,81,21,"JSON"],[95,27,81,25],[95,28,81,26,"parse"],[95,33,81,31],[95,34,81,32,"userStr"],[95,41,81,39],[95,42,81,40],[96,10,82,8,"console"],[96,17,82,15],[96,18,82,16,"log"],[96,21,82,19],[96,22,82,20],[96,49,82,47],[96,51,82,49,"user"],[96,55,82,53],[96,56,82,54,"email"],[96,61,82,59],[96,62,82,60],[97,10,83,8,"set"],[97,13,83,11],[97,14,83,12],[98,12,83,14,"user"],[98,16,83,18],[99,12,83,20,"token"],[99,17,83,25],[100,12,83,27,"isAuthenticated"],[100,27,83,42],[100,29,83,44],[100,33,83,48],[101,12,83,50,"isLoading"],[101,21,83,59],[101,23,83,61],[102,10,83,67],[102,11,83,68],[102,12,83,69],[103,8,84,6],[103,9,84,7],[103,15,84,13],[104,10,85,8,"console"],[104,17,85,15],[104,18,85,16,"log"],[104,21,85,19],[104,22,85,20],[104,47,85,45],[104,48,85,46],[105,10,86,8,"set"],[105,13,86,11],[105,14,86,12],[106,12,86,14,"isLoading"],[106,21,86,23],[106,23,86,25],[107,10,86,31],[107,11,86,32],[107,12,86,33],[108,8,87,6],[109,6,88,4],[109,7,88,5],[109,8,88,6],[109,15,88,13,"error"],[109,20,88,18],[109,22,88,20],[110,8,89,6,"console"],[110,15,89,13],[110,16,89,14,"error"],[110,21,89,19],[110,22,89,20],[110,52,89,50],[110,54,89,52,"error"],[110,59,89,57],[110,60,89,58],[111,8,90,6,"set"],[111,11,90,9],[111,12,90,10],[112,10,90,12,"isLoading"],[112,19,90,21],[112,21,90,23],[113,8,90,29],[113,9,90,30],[113,10,90,31],[114,6,91,4],[115,4,92,2],[116,2,93,0],[116,3,93,1],[116,4,93,2],[116,5,93,3],[117,0,93,4],[117,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setToken","login","logout","loadStoredAuth"],"mappings":"AAA;8CCkB;WCM,gDD;YEE,yBF;SGE;GHwB;UIE;GJU;kBKE;GLyB;EDC"},"hasCjsExports":false},"type":"js/module"}]}