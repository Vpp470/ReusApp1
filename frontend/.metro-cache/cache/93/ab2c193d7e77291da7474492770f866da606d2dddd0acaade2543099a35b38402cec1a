{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":38,"index":91}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":92},"end":{"line":3,"column":40,"index":132}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":133},"end":{"line":4,"column":39,"index":172}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.registerForPushNotificationsAsync = registerForPushNotificationsAsync;\n  exports.addNotificationReceivedListener = addNotificationReceivedListener;\n  exports.addNotificationResponseReceivedListener = addNotificationResponseReceivedListener;\n  exports.sendLocalNotification = sendLocalNotification;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0]);\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoNotifications = require(_dependencyMap[1]);\n  var Notifications = _interopNamespace(_expoNotifications);\n  var _expoDevice = require(_dependencyMap[2]);\n  var Device = _interopNamespace(_expoDevice);\n  require(_dependencyMap[3]);\n  var _expoConstants = require(_dependencyMap[4]);\n  var Constants = _interopDefault(_expoConstants);\n  // Configurar com es mostren les notificacions quan l'app està en primer pla\n  Notifications.setNotificationHandler({\n    handleNotification: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        return {\n          shouldShowAlert: true,\n          shouldPlaySound: true,\n          shouldSetBadge: true\n        };\n      });\n      return function handleNotification() {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  });\n  /**\n   * Registrar per rebre notificacions push i obtenir el token\n   */\n  function registerForPushNotificationsAsync() {\n    return _registerForPushNotificationsAsync.apply(this, arguments);\n  }\n  /**\n   * Escoltar notificacions rebudes\n   */\n  function _registerForPushNotificationsAsync() {\n    _registerForPushNotificationsAsync = (0, _asyncToGenerator.default)(function* () {\n      var token = null;\n      {\n        yield Notifications.setNotificationChannelAsync('default', {\n          name: 'default',\n          importance: Notifications.AndroidImportance.MAX,\n          vibrationPattern: [0, 250, 250, 250],\n          lightColor: '#FF231F7C'\n        });\n      }\n      if (Device.isDevice) {\n        var _yield$Notifications$ = yield Notifications.getPermissionsAsync(),\n          existingStatus = _yield$Notifications$.status;\n        var finalStatus = existingStatus;\n        if (existingStatus !== 'granted') {\n          var _yield$Notifications$2 = yield Notifications.requestPermissionsAsync(),\n            status = _yield$Notifications$2.status;\n          finalStatus = status;\n        }\n        if (finalStatus !== 'granted') {\n          console.log('Failed to get push token for push notification!');\n          return null;\n        }\n        try {\n          var projectId = Constants.default.expoConfig?.extra?.eas?.projectId ?? Constants.default.easConfig?.projectId;\n          if (!projectId) {\n            console.log('Project ID not found');\n            return null;\n          }\n          token = (yield Notifications.getExpoPushTokenAsync({\n            projectId\n          })).data;\n          console.log('Push token:', token);\n        } catch (error) {\n          console.error('Error getting push token:', error);\n          return null;\n        }\n      } else {\n        console.log('Must use physical device for Push Notifications');\n      }\n      return token;\n    });\n    return _registerForPushNotificationsAsync.apply(this, arguments);\n  }\n  function addNotificationReceivedListener(callback) {\n    return Notifications.addNotificationReceivedListener(callback);\n  }\n\n  /**\n   * Escoltar quan l'usuari toca una notificació\n   */\n  function addNotificationResponseReceivedListener(callback) {\n    return Notifications.addNotificationResponseReceivedListener(callback);\n  }\n\n  /**\n   * Enviar una notificació local (només per testing)\n   */\n  function sendLocalNotification(_x, _x2, _x3) {\n    return _sendLocalNotification.apply(this, arguments);\n  }\n  function _sendLocalNotification() {\n    _sendLocalNotification = (0, _asyncToGenerator.default)(function* (title, body, data) {\n      yield Notifications.scheduleNotificationAsync({\n        content: {\n          title,\n          body,\n          data: data || {},\n          sound: true\n        },\n        trigger: null // Enviar immediatament\n      });\n    });\n    return _sendLocalNotification.apply(this, arguments);\n  }\n});","lineCount":140,"map":[[27,2,24,0,"exports"],[27,9,24,0],[27,10,24,0,"registerForPushNotificationsAsync"],[27,43,24,0],[27,46,24,0,"registerForPushNotificationsAsync"],[27,79,24,0],[28,2,74,0,"exports"],[28,9,74,0],[28,10,74,0,"addNotificationReceivedListener"],[28,41,74,0],[28,44,74,0,"addNotificationReceivedListener"],[28,75,74,0],[29,2,83,0,"exports"],[29,9,83,0],[29,10,83,0,"addNotificationResponseReceivedListener"],[29,49,83,0],[29,52,83,0,"addNotificationResponseReceivedListener"],[29,91,83,0],[30,2,92,0,"exports"],[30,9,92,0],[30,10,92,0,"sendLocalNotification"],[30,31,92,0],[30,34,92,0,"sendLocalNotification"],[30,55,92,0],[31,2,102,1],[31,6,102,1,"_babelRuntimeHelpersAsyncToGenerator"],[31,42,102,1],[31,45,102,1,"require"],[31,52,102,1],[31,53,102,1,"_dependencyMap"],[31,67,102,1],[32,2,102,1],[32,6,102,1,"_asyncToGenerator"],[32,23,102,1],[32,26,102,1,"_interopDefault"],[32,41,102,1],[32,42,102,1,"_babelRuntimeHelpersAsyncToGenerator"],[32,78,102,1],[33,2,1,0],[33,6,1,0,"_expoNotifications"],[33,24,1,0],[33,27,1,0,"require"],[33,34,1,0],[33,35,1,0,"_dependencyMap"],[33,49,1,0],[34,2,1,0],[34,6,1,0,"Notifications"],[34,19,1,0],[34,22,1,0,"_interopNamespace"],[34,39,1,0],[34,40,1,0,"_expoNotifications"],[34,58,1,0],[35,2,2,0],[35,6,2,0,"_expoDevice"],[35,17,2,0],[35,20,2,0,"require"],[35,27,2,0],[35,28,2,0,"_dependencyMap"],[35,42,2,0],[36,2,2,0],[36,6,2,0,"Device"],[36,12,2,0],[36,15,2,0,"_interopNamespace"],[36,32,2,0],[36,33,2,0,"_expoDevice"],[36,44,2,0],[37,2,3,0,"require"],[37,9,3,0],[37,10,3,0,"_dependencyMap"],[37,24,3,0],[38,2,4,0],[38,6,4,0,"_expoConstants"],[38,20,4,0],[38,23,4,0,"require"],[38,30,4,0],[38,31,4,0,"_dependencyMap"],[38,45,4,0],[39,2,4,0],[39,6,4,0,"Constants"],[39,15,4,0],[39,18,4,0,"_interopDefault"],[39,33,4,0],[39,34,4,0,"_expoConstants"],[39,48,4,0],[40,2,6,0],[41,2,7,0,"Notifications"],[41,15,7,13],[41,16,7,14,"setNotificationHandler"],[41,38,7,36],[41,39,7,37],[42,4,8,2,"handleNotification"],[42,22,8,20],[43,6,8,20],[43,10,8,20,"_ref"],[43,14,8,20],[43,21,8,20,"_asyncToGenerator"],[43,38,8,20],[43,39,8,20,"default"],[43,46,8,20],[43,48,8,22],[44,8,8,22],[44,15,8,35],[45,10,9,4,"shouldShowAlert"],[45,25,9,19],[45,27,9,21],[45,31,9,25],[46,10,10,4,"shouldPlaySound"],[46,25,10,19],[46,27,10,21],[46,31,10,25],[47,10,11,4,"shouldSetBadge"],[47,24,11,18],[47,26,11,20],[48,8,12,2],[48,9,12,3],[49,6,12,3],[49,7,12,4],[50,6,12,4],[50,22,8,2,"handleNotification"],[50,40,8,20,"handleNotification"],[50,41,8,20],[51,8,8,20],[51,15,8,20,"_ref"],[51,19,8,20],[51,20,8,20,"apply"],[51,25,8,20],[51,32,8,20,"arguments"],[51,41,8,20],[52,6,8,20],[53,4,8,20],[54,2,13,0],[54,3,13,1],[54,4,13,2],[55,2,21,0],[56,0,22,0],[57,0,23,0],[58,2,21,0],[58,11,24,22,"registerForPushNotificationsAsync"],[58,44,24,55,"registerForPushNotificationsAsync"],[58,45,24,55],[59,4,24,55],[59,11,24,55,"_registerForPushNotificationsAsync"],[59,45,24,55],[59,46,24,55,"apply"],[59,51,24,55],[59,58,24,55,"arguments"],[59,67,24,55],[60,2,24,55],[61,2,71,0],[62,0,72,0],[63,0,73,0],[64,2,71,0],[64,11,71,0,"_registerForPushNotificationsAsync"],[64,46,71,0],[65,4,71,0,"_registerForPushNotificationsAsync"],[65,38,71,0],[65,45,71,0,"_asyncToGenerator"],[65,62,71,0],[65,63,71,0,"default"],[65,70,71,0],[65,72,24,7],[65,85,24,82],[66,6,25,2],[66,10,25,6,"token"],[66,15,25,11],[66,18,25,14],[66,22,25,18],[67,6,27,33],[68,8,28,4],[68,14,28,10,"Notifications"],[68,27,28,23],[68,28,28,24,"setNotificationChannelAsync"],[68,55,28,51],[68,56,28,52],[68,65,28,61],[68,67,28,63],[69,10,29,6,"name"],[69,14,29,10],[69,16,29,12],[69,25,29,21],[70,10,30,6,"importance"],[70,20,30,16],[70,22,30,18,"Notifications"],[70,35,30,31],[70,36,30,32,"AndroidImportance"],[70,53,30,49],[70,54,30,50,"MAX"],[70,57,30,53],[71,10,31,6,"vibrationPattern"],[71,26,31,22],[71,28,31,24],[71,29,31,25],[71,30,31,26],[71,32,31,28],[71,35,31,31],[71,37,31,33],[71,40,31,36],[71,42,31,38],[71,45,31,41],[71,46,31,42],[72,10,32,6,"lightColor"],[72,20,32,16],[72,22,32,18],[73,8,33,4],[73,9,33,5],[73,10,33,6],[74,6,34,2],[75,6,36,2],[75,10,36,6,"Device"],[75,16,36,12],[75,17,36,13,"isDevice"],[75,25,36,21],[75,27,36,23],[76,8,37,4],[76,12,37,4,"_yield$Notifications$"],[76,33,37,4],[76,42,37,45,"Notifications"],[76,55,37,58],[76,56,37,59,"getPermissionsAsync"],[76,75,37,78],[76,76,37,79],[76,77,37,80],[77,10,37,20,"existingStatus"],[77,24,37,34],[77,27,37,34,"_yield$Notifications$"],[77,48,37,34],[77,49,37,12,"status"],[77,55,37,18],[78,8,38,4],[78,12,38,8,"finalStatus"],[78,23,38,19],[78,26,38,22,"existingStatus"],[78,40,38,36],[79,8,40,4],[79,12,40,8,"existingStatus"],[79,26,40,22],[79,31,40,27],[79,40,40,36],[79,42,40,38],[80,10,41,6],[80,14,41,6,"_yield$Notifications$2"],[80,36,41,6],[80,45,41,31,"Notifications"],[80,58,41,44],[80,59,41,45,"requestPermissionsAsync"],[80,82,41,68],[80,83,41,69],[80,84,41,70],[81,12,41,14,"status"],[81,18,41,20],[81,21,41,20,"_yield$Notifications$2"],[81,43,41,20],[81,44,41,14,"status"],[81,50,41,20],[82,10,42,6,"finalStatus"],[82,21,42,17],[82,24,42,20,"status"],[82,30,42,26],[83,8,43,4],[84,8,45,4],[84,12,45,8,"finalStatus"],[84,23,45,19],[84,28,45,24],[84,37,45,33],[84,39,45,35],[85,10,46,6,"console"],[85,17,46,13],[85,18,46,14,"log"],[85,21,46,17],[85,22,46,18],[85,71,46,67],[85,72,46,68],[86,10,47,6],[86,17,47,13],[86,21,47,17],[87,8,48,4],[88,8,50,4],[88,12,50,8],[89,10,51,6],[89,14,51,12,"projectId"],[89,23,51,21],[89,26,51,24,"Constants"],[89,35,51,33],[89,36,51,33,"default"],[89,43,51,33],[89,44,51,34,"expoConfig"],[89,54,51,44],[89,56,51,46,"extra"],[89,61,51,51],[89,63,51,53,"eas"],[89,66,51,56],[89,68,51,58,"projectId"],[89,77,51,67],[89,81,51,71,"Constants"],[89,90,51,80],[89,91,51,80,"default"],[89,98,51,80],[89,99,51,81,"easConfig"],[89,108,51,90],[89,110,51,92,"projectId"],[89,119,51,101],[90,10,53,6],[90,14,53,10],[90,15,53,11,"projectId"],[90,24,53,20],[90,26,53,22],[91,12,54,8,"console"],[91,19,54,15],[91,20,54,16,"log"],[91,23,54,19],[91,24,54,20],[91,46,54,42],[91,47,54,43],[92,12,55,8],[92,19,55,15],[92,23,55,19],[93,10,56,6],[94,10,58,6,"token"],[94,15,58,11],[94,18,58,14],[94,25,58,21,"Notifications"],[94,38,58,34],[94,39,58,35,"getExpoPushTokenAsync"],[94,60,58,56],[94,61,58,57],[95,12,58,59,"projectId"],[96,10,58,69],[96,11,58,70],[96,12,58,71],[96,14,58,73,"data"],[96,18,58,77],[97,10,59,6,"console"],[97,17,59,13],[97,18,59,14,"log"],[97,21,59,17],[97,22,59,18],[97,35,59,31],[97,37,59,33,"token"],[97,42,59,38],[97,43,59,39],[98,8,60,4],[98,9,60,5],[98,10,60,6],[98,17,60,13,"error"],[98,22,60,18],[98,24,60,20],[99,10,61,6,"console"],[99,17,61,13],[99,18,61,14,"error"],[99,23,61,19],[99,24,61,20],[99,51,61,47],[99,53,61,49,"error"],[99,58,61,54],[99,59,61,55],[100,10,62,6],[100,17,62,13],[100,21,62,17],[101,8,63,4],[102,6,64,2],[102,7,64,3],[102,13,64,9],[103,8,65,4,"console"],[103,15,65,11],[103,16,65,12,"log"],[103,19,65,15],[103,20,65,16],[103,69,65,65],[103,70,65,66],[104,6,66,2],[105,6,68,2],[105,13,68,9,"token"],[105,18,68,14],[106,4,69,0],[106,5,69,1],[107,4,69,1],[107,11,69,1,"_registerForPushNotificationsAsync"],[107,45,69,1],[107,46,69,1,"apply"],[107,51,69,1],[107,58,69,1,"arguments"],[107,67,69,1],[108,2,69,1],[109,2,74,7],[109,11,74,16,"addNotificationReceivedListener"],[109,42,74,47,"addNotificationReceivedListener"],[109,43,75,2,"callback"],[109,51,75,62],[109,53,76,2],[110,4,77,2],[110,11,77,9,"Notifications"],[110,24,77,22],[110,25,77,23,"addNotificationReceivedListener"],[110,56,77,54],[110,57,77,55,"callback"],[110,65,77,63],[110,66,77,64],[111,2,78,0],[113,2,80,0],[114,0,81,0],[115,0,82,0],[116,2,83,7],[116,11,83,16,"addNotificationResponseReceivedListener"],[116,50,83,55,"addNotificationResponseReceivedListener"],[116,51,84,2,"callback"],[116,59,84,66],[116,61,85,2],[117,4,86,2],[117,11,86,9,"Notifications"],[117,24,86,22],[117,25,86,23,"addNotificationResponseReceivedListener"],[117,64,86,62],[117,65,86,63,"callback"],[117,73,86,71],[117,74,86,72],[118,2,87,0],[120,2,89,0],[121,0,90,0],[122,0,91,0],[123,2,89,0],[123,11,92,22,"sendLocalNotification"],[123,32,92,43,"sendLocalNotification"],[123,33,92,43,"_x"],[123,35,92,43],[123,37,92,43,"_x2"],[123,40,92,43],[123,42,92,43,"_x3"],[123,45,92,43],[124,4,92,43],[124,11,92,43,"_sendLocalNotification"],[124,33,92,43],[124,34,92,43,"apply"],[124,39,92,43],[124,46,92,43,"arguments"],[124,55,92,43],[125,2,92,43],[126,2,92,43],[126,11,92,43,"_sendLocalNotification"],[126,34,92,43],[127,4,92,43,"_sendLocalNotification"],[127,26,92,43],[127,33,92,43,"_asyncToGenerator"],[127,50,92,43],[127,51,92,43,"default"],[127,58,92,43],[127,60,92,7],[127,71,92,44,"title"],[127,76,92,57],[127,78,92,59,"body"],[127,82,92,71],[127,84,92,73,"data"],[127,88,92,83],[127,90,92,85],[128,6,93,2],[128,12,93,8,"Notifications"],[128,25,93,21],[128,26,93,22,"scheduleNotificationAsync"],[128,51,93,47],[128,52,93,48],[129,8,94,4,"content"],[129,15,94,11],[129,17,94,13],[130,10,95,6,"title"],[130,15,95,11],[131,10,96,6,"body"],[131,14,96,10],[132,10,97,6,"data"],[132,14,97,10],[132,16,97,12,"data"],[132,20,97,16],[132,24,97,20],[132,25,97,21],[132,26,97,22],[133,10,98,6,"sound"],[133,15,98,11],[133,17,98,13],[134,8,99,4],[134,9,99,5],[135,8,100,4,"trigger"],[135,15,100,11],[135,17,100,13],[135,21,100,17],[135,22,100,19],[136,6,101,2],[136,7,101,3],[136,8,101,4],[137,4,102,0],[137,5,102,1],[138,4,102,1],[138,11,102,1,"_sendLocalNotification"],[138,33,102,1],[138,34,102,1,"apply"],[138,39,102,1],[138,46,102,1,"arguments"],[138,55,102,1],[139,2,102,1],[140,0,102,1],[140,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","registerForPushNotificationsAsync","addNotificationReceivedListener","addNotificationResponseReceivedListener","sendLocalNotification"],"mappings":"AAA;sBCO;IDI;OEY;CF6C;OGK;CHI;OIK;CJI;OKK;CLU"},"hasCjsExports":false},"type":"js/module"}]}