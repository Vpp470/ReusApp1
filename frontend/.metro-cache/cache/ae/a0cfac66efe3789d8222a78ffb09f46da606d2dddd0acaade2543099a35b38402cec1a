{"dependencies":[{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":38,"index":91}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":133},"end":{"line":4,"column":39,"index":172}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.registerForPushNotificationsAsync = registerForPushNotificationsAsync;\n  exports.addNotificationReceivedListener = addNotificationReceivedListener;\n  exports.addNotificationResponseReceivedListener = addNotificationResponseReceivedListener;\n  exports.sendLocalNotification = sendLocalNotification;\n  var _expoNotifications = require(_dependencyMap[0], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  var _expoDevice = require(_dependencyMap[1], \"expo-device\");\n  var Device = _interopNamespace(_expoDevice);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  // Configurar com es mostren les notificacions quan l'app està en primer pla\n  Notifications.setNotificationHandler({\n    handleNotification: async () => ({\n      shouldShowAlert: true,\n      shouldPlaySound: true,\n      shouldSetBadge: true\n    })\n  });\n  /**\n   * Registrar per rebre notificacions push i obtenir el token\n   */\n  async function registerForPushNotificationsAsync() {\n    let token = null;\n    if (Platform.default.OS === 'android') {\n      await Notifications.setNotificationChannelAsync('default', {\n        name: 'default',\n        importance: Notifications.AndroidImportance.MAX,\n        vibrationPattern: [0, 250, 250, 250],\n        lightColor: '#FF231F7C'\n      });\n    }\n    if (Device.isDevice) {\n      const {\n        status: existingStatus\n      } = await Notifications.getPermissionsAsync();\n      let finalStatus = existingStatus;\n      if (existingStatus !== 'granted') {\n        const {\n          status\n        } = await Notifications.requestPermissionsAsync();\n        finalStatus = status;\n      }\n      if (finalStatus !== 'granted') {\n        console.log('Failed to get push token for push notification!');\n        return null;\n      }\n      try {\n        const projectId = Constants.default.expoConfig?.extra?.eas?.projectId ?? Constants.default.easConfig?.projectId;\n        if (!projectId) {\n          console.log('Project ID not found');\n          return null;\n        }\n        token = (await Notifications.getExpoPushTokenAsync({\n          projectId\n        })).data;\n        console.log('Push token:', token);\n      } catch (error) {\n        console.error('Error getting push token:', error);\n        return null;\n      }\n    } else {\n      console.log('Must use physical device for Push Notifications');\n    }\n    return token;\n  }\n\n  /**\n   * Escoltar notificacions rebudes\n   */\n  function addNotificationReceivedListener(callback) {\n    return Notifications.addNotificationReceivedListener(callback);\n  }\n\n  /**\n   * Escoltar quan l'usuari toca una notificació\n   */\n  function addNotificationResponseReceivedListener(callback) {\n    return Notifications.addNotificationResponseReceivedListener(callback);\n  }\n\n  /**\n   * Enviar una notificació local (només per testing)\n   */\n  async function sendLocalNotification(title, body, data) {\n    await Notifications.scheduleNotificationAsync({\n      content: {\n        title,\n        body,\n        data: data || {},\n        sound: true\n      },\n      trigger: null // Enviar immediatament\n    });\n  }\n});","lineCount":123,"map":[[27,2,24,0,"exports"],[27,9,24,0],[27,10,24,0,"registerForPushNotificationsAsync"],[27,43,24,0],[27,46,24,0,"registerForPushNotificationsAsync"],[27,79,24,0],[28,2,74,0,"exports"],[28,9,74,0],[28,10,74,0,"addNotificationReceivedListener"],[28,41,74,0],[28,44,74,0,"addNotificationReceivedListener"],[28,75,74,0],[29,2,83,0,"exports"],[29,9,83,0],[29,10,83,0,"addNotificationResponseReceivedListener"],[29,49,83,0],[29,52,83,0,"addNotificationResponseReceivedListener"],[29,91,83,0],[30,2,92,0,"exports"],[30,9,92,0],[30,10,92,0,"sendLocalNotification"],[30,31,92,0],[30,34,92,0,"sendLocalNotification"],[30,55,92,0],[31,2,1,0],[31,6,1,0,"_expoNotifications"],[31,24,1,0],[31,27,1,0,"require"],[31,34,1,0],[31,35,1,0,"_dependencyMap"],[31,49,1,0],[32,2,1,0],[32,6,1,0,"Notifications"],[32,19,1,0],[32,22,1,0,"_interopNamespace"],[32,39,1,0],[32,40,1,0,"_expoNotifications"],[32,58,1,0],[33,2,2,0],[33,6,2,0,"_expoDevice"],[33,17,2,0],[33,20,2,0,"require"],[33,27,2,0],[33,28,2,0,"_dependencyMap"],[33,42,2,0],[34,2,2,0],[34,6,2,0,"Device"],[34,12,2,0],[34,15,2,0,"_interopNamespace"],[34,32,2,0],[34,33,2,0,"_expoDevice"],[34,44,2,0],[35,2,2,38],[35,6,2,38,"_reactNativeWebDistExportsPlatform"],[35,40,2,38],[35,43,2,38,"require"],[35,50,2,38],[35,51,2,38,"_dependencyMap"],[35,65,2,38],[36,2,2,38],[36,6,2,38,"Platform"],[36,14,2,38],[36,17,2,38,"_interopDefault"],[36,32,2,38],[36,33,2,38,"_reactNativeWebDistExportsPlatform"],[36,67,2,38],[37,2,4,0],[37,6,4,0,"_expoConstants"],[37,20,4,0],[37,23,4,0,"require"],[37,30,4,0],[37,31,4,0,"_dependencyMap"],[37,45,4,0],[38,2,4,0],[38,6,4,0,"Constants"],[38,15,4,0],[38,18,4,0,"_interopDefault"],[38,33,4,0],[38,34,4,0,"_expoConstants"],[38,48,4,0],[39,2,6,0],[40,2,7,0,"Notifications"],[40,15,7,13],[40,16,7,14,"setNotificationHandler"],[40,38,7,36],[40,39,7,37],[41,4,8,2,"handleNotification"],[41,22,8,20],[41,24,8,22],[41,30,8,22,"handleNotification"],[41,31,8,22],[41,37,8,35],[42,6,9,4,"shouldShowAlert"],[42,21,9,19],[42,23,9,21],[42,27,9,25],[43,6,10,4,"shouldPlaySound"],[43,21,10,19],[43,23,10,21],[43,27,10,25],[44,6,11,4,"shouldSetBadge"],[44,20,11,18],[44,22,11,20],[45,4,12,2],[45,5,12,3],[46,2,13,0],[46,3,13,1],[46,4,13,2],[47,2,21,0],[48,0,22,0],[49,0,23,0],[50,2,24,7],[50,17,24,22,"registerForPushNotificationsAsync"],[50,50,24,55,"registerForPushNotificationsAsync"],[50,51,24,55],[50,53,24,82],[51,4,25,2],[51,8,25,6,"token"],[51,13,25,11],[51,16,25,14],[51,20,25,18],[52,4,27,2],[52,8,27,6,"Platform"],[52,16,27,14],[52,17,27,14,"default"],[52,24,27,14],[52,25,27,15,"OS"],[52,27,27,17],[52,32,27,22],[52,41,27,31],[52,43,27,33],[53,6,28,4],[53,12,28,10,"Notifications"],[53,25,28,23],[53,26,28,24,"setNotificationChannelAsync"],[53,53,28,51],[53,54,28,52],[53,63,28,61],[53,65,28,63],[54,8,29,6,"name"],[54,12,29,10],[54,14,29,12],[54,23,29,21],[55,8,30,6,"importance"],[55,18,30,16],[55,20,30,18,"Notifications"],[55,33,30,31],[55,34,30,32,"AndroidImportance"],[55,51,30,49],[55,52,30,50,"MAX"],[55,55,30,53],[56,8,31,6,"vibrationPattern"],[56,24,31,22],[56,26,31,24],[56,27,31,25],[56,28,31,26],[56,30,31,28],[56,33,31,31],[56,35,31,33],[56,38,31,36],[56,40,31,38],[56,43,31,41],[56,44,31,42],[57,8,32,6,"lightColor"],[57,18,32,16],[57,20,32,18],[58,6,33,4],[58,7,33,5],[58,8,33,6],[59,4,34,2],[60,4,36,2],[60,8,36,6,"Device"],[60,14,36,12],[60,15,36,13,"isDevice"],[60,23,36,21],[60,25,36,23],[61,6,37,4],[61,12,37,10],[62,8,37,12,"status"],[62,14,37,18],[62,16,37,20,"existingStatus"],[63,6,37,35],[63,7,37,36],[63,10,37,39],[63,16,37,45,"Notifications"],[63,29,37,58],[63,30,37,59,"getPermissionsAsync"],[63,49,37,78],[63,50,37,79],[63,51,37,80],[64,6,38,4],[64,10,38,8,"finalStatus"],[64,21,38,19],[64,24,38,22,"existingStatus"],[64,38,38,36],[65,6,40,4],[65,10,40,8,"existingStatus"],[65,24,40,22],[65,29,40,27],[65,38,40,36],[65,40,40,38],[66,8,41,6],[66,14,41,12],[67,10,41,14,"status"],[68,8,41,21],[68,9,41,22],[68,12,41,25],[68,18,41,31,"Notifications"],[68,31,41,44],[68,32,41,45,"requestPermissionsAsync"],[68,55,41,68],[68,56,41,69],[68,57,41,70],[69,8,42,6,"finalStatus"],[69,19,42,17],[69,22,42,20,"status"],[69,28,42,26],[70,6,43,4],[71,6,45,4],[71,10,45,8,"finalStatus"],[71,21,45,19],[71,26,45,24],[71,35,45,33],[71,37,45,35],[72,8,46,6,"console"],[72,15,46,13],[72,16,46,14,"log"],[72,19,46,17],[72,20,46,18],[72,69,46,67],[72,70,46,68],[73,8,47,6],[73,15,47,13],[73,19,47,17],[74,6,48,4],[75,6,50,4],[75,10,50,8],[76,8,51,6],[76,14,51,12,"projectId"],[76,23,51,21],[76,26,51,24,"Constants"],[76,35,51,33],[76,36,51,33,"default"],[76,43,51,33],[76,44,51,34,"expoConfig"],[76,54,51,44],[76,56,51,46,"extra"],[76,61,51,51],[76,63,51,53,"eas"],[76,66,51,56],[76,68,51,58,"projectId"],[76,77,51,67],[76,81,51,71,"Constants"],[76,90,51,80],[76,91,51,80,"default"],[76,98,51,80],[76,99,51,81,"easConfig"],[76,108,51,90],[76,110,51,92,"projectId"],[76,119,51,101],[77,8,53,6],[77,12,53,10],[77,13,53,11,"projectId"],[77,22,53,20],[77,24,53,22],[78,10,54,8,"console"],[78,17,54,15],[78,18,54,16,"log"],[78,21,54,19],[78,22,54,20],[78,44,54,42],[78,45,54,43],[79,10,55,8],[79,17,55,15],[79,21,55,19],[80,8,56,6],[81,8,58,6,"token"],[81,13,58,11],[81,16,58,14],[81,17,58,15],[81,23,58,21,"Notifications"],[81,36,58,34],[81,37,58,35,"getExpoPushTokenAsync"],[81,58,58,56],[81,59,58,57],[82,10,58,59,"projectId"],[83,8,58,69],[83,9,58,70],[83,10,58,71],[83,12,58,73,"data"],[83,16,58,77],[84,8,59,6,"console"],[84,15,59,13],[84,16,59,14,"log"],[84,19,59,17],[84,20,59,18],[84,33,59,31],[84,35,59,33,"token"],[84,40,59,38],[84,41,59,39],[85,6,60,4],[85,7,60,5],[85,8,60,6],[85,15,60,13,"error"],[85,20,60,18],[85,22,60,20],[86,8,61,6,"console"],[86,15,61,13],[86,16,61,14,"error"],[86,21,61,19],[86,22,61,20],[86,49,61,47],[86,51,61,49,"error"],[86,56,61,54],[86,57,61,55],[87,8,62,6],[87,15,62,13],[87,19,62,17],[88,6,63,4],[89,4,64,2],[89,5,64,3],[89,11,64,9],[90,6,65,4,"console"],[90,13,65,11],[90,14,65,12,"log"],[90,17,65,15],[90,18,65,16],[90,67,65,65],[90,68,65,66],[91,4,66,2],[92,4,68,2],[92,11,68,9,"token"],[92,16,68,14],[93,2,69,0],[95,2,71,0],[96,0,72,0],[97,0,73,0],[98,2,74,7],[98,11,74,16,"addNotificationReceivedListener"],[98,42,74,47,"addNotificationReceivedListener"],[98,43,75,2,"callback"],[98,51,75,62],[98,53,76,2],[99,4,77,2],[99,11,77,9,"Notifications"],[99,24,77,22],[99,25,77,23,"addNotificationReceivedListener"],[99,56,77,54],[99,57,77,55,"callback"],[99,65,77,63],[99,66,77,64],[100,2,78,0],[102,2,80,0],[103,0,81,0],[104,0,82,0],[105,2,83,7],[105,11,83,16,"addNotificationResponseReceivedListener"],[105,50,83,55,"addNotificationResponseReceivedListener"],[105,51,84,2,"callback"],[105,59,84,66],[105,61,85,2],[106,4,86,2],[106,11,86,9,"Notifications"],[106,24,86,22],[106,25,86,23,"addNotificationResponseReceivedListener"],[106,64,86,62],[106,65,86,63,"callback"],[106,73,86,71],[106,74,86,72],[107,2,87,0],[109,2,89,0],[110,0,90,0],[111,0,91,0],[112,2,92,7],[112,17,92,22,"sendLocalNotification"],[112,38,92,43,"sendLocalNotification"],[112,39,92,44,"title"],[112,44,92,57],[112,46,92,59,"body"],[112,50,92,71],[112,52,92,73,"data"],[112,56,92,83],[112,58,92,85],[113,4,93,2],[113,10,93,8,"Notifications"],[113,23,93,21],[113,24,93,22,"scheduleNotificationAsync"],[113,49,93,47],[113,50,93,48],[114,6,94,4,"content"],[114,13,94,11],[114,15,94,13],[115,8,95,6,"title"],[115,13,95,11],[116,8,96,6,"body"],[116,12,96,10],[117,8,97,6,"data"],[117,12,97,10],[117,14,97,12,"data"],[117,18,97,16],[117,22,97,20],[117,23,97,21],[117,24,97,22],[118,8,98,6,"sound"],[118,13,98,11],[118,15,98,13],[119,6,99,4],[119,7,99,5],[120,6,100,4,"trigger"],[120,13,100,11],[120,15,100,13],[120,19,100,17],[120,20,100,19],[121,4,101,2],[121,5,101,3],[121,6,101,4],[122,2,102,0],[123,0,102,1],[123,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","registerForPushNotificationsAsync","addNotificationReceivedListener","addNotificationResponseReceivedListener","sendLocalNotification"],"mappings":"AAA;sBCO;IDI;OEY;CF6C;OGK;CHI;OIK;CJI;OKK;CLU"},"hasCjsExports":false},"type":"js/module"}]}