{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":174},"end":{"line":7,"column":69,"index":243}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":244},"end":{"line":8,"column":39,"index":283}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.isWebPushSupported = isWebPushSupported;\n  exports.getNotificationPermission = getNotificationPermission;\n  exports.registerServiceWorker = registerServiceWorker;\n  exports.requestNotificationPermission = requestNotificationPermission;\n  exports.getVapidPublicKey = getVapidPublicKey;\n  exports.subscribeToWebPush = subscribeToWebPush;\n  exports.unsubscribeFromWebPush = unsubscribeFromWebPush;\n  exports.isSubscribedToWebPush = isSubscribedToWebPush;\n  exports.initWebPushIfPermitted = initWebPushIfPermitted;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  /**\n   * Servei de Web Push Notifications per El Tomb de Reus\n   * Gestiona el registre del Service Worker i les subscripcions push\n   */\n\n  // Obtenir la URL base de l'API\n  const getApiBase = () => {\n    // En web, primer intentem obtenir la URL de l'entorn\n    const envUrl = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n    if (envUrl) {\n      return `${envUrl}/api`;\n    }\n\n    // Fallback: usar URL relativa\n    return '/api';\n  };\n\n  /**\n   * Converteix una clau base64 URL-safe a Uint8Array\n   */\n  function urlBase64ToUint8Array(base64String) {\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\n    const base64 = (base64String + padding).replace(/-/g, '+').replace(/_/g, '/');\n    const rawData = window.atob(base64);\n    const outputArray = new Uint8Array(rawData.length);\n    for (let i = 0; i < rawData.length; ++i) {\n      outputArray[i] = rawData.charCodeAt(i);\n    }\n    return outputArray;\n  }\n\n  /**\n   * Verifica si el navegador suporta Web Push\n   */\n  function isWebPushSupported() {\n    if (Platform.default.OS !== 'web') return false;\n    return 'serviceWorker' in navigator && 'PushManager' in window && 'Notification' in window;\n  }\n\n  /**\n   * Verifica l'estat actual de les notificacions\n   */\n  function getNotificationPermission() {\n    if (Platform.default.OS !== 'web' || !('Notification' in window)) return null;\n    return Notification.permission;\n  }\n\n  /**\n   * Registra el Service Worker\n   */\n  async function registerServiceWorker() {\n    if (Platform.default.OS !== 'web' || !('serviceWorker' in navigator)) {\n      console.log('[WebPush] Service Worker no suportat');\n      return null;\n    }\n    try {\n      const registration = await navigator.serviceWorker.register('/sw.js', {\n        scope: '/'\n      });\n      console.log('[WebPush] Service Worker registrat:', registration.scope);\n      return registration;\n    } catch (error) {\n      console.error('[WebPush] Error registrant Service Worker:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Sol·licita permís per notificacions\n   */\n  async function requestNotificationPermission() {\n    if (Platform.default.OS !== 'web' || !('Notification' in window)) {\n      return 'denied';\n    }\n    const permission = await Notification.requestPermission();\n    console.log('[WebPush] Permís de notificacions:', permission);\n    return permission;\n  }\n\n  /**\n   * Obté la clau pública VAPID del servidor\n   */\n  async function getVapidPublicKey() {\n    try {\n      const apiBase = getApiBase();\n      console.log('[WebPush] Obtenint clau VAPID de:', `${apiBase}/web-push/vapid-public-key`);\n      const response = await fetch(`${apiBase}/web-push/vapid-public-key`);\n      if (!response.ok) {\n        throw new Error('No s\\'ha pogut obtenir la clau VAPID');\n      }\n      const data = await response.json();\n      return data.vapidPublicKey;\n    } catch (error) {\n      console.error('[WebPush] Error obtenint clau VAPID:', error);\n      return null;\n    }\n  }\n\n  /**\n   * Subscriu l'usuari a les notificacions Web Push\n   */\n  async function subscribeToWebPush(authToken) {\n    if (!isWebPushSupported()) {\n      console.log('[WebPush] Web Push no suportat');\n      return false;\n    }\n    try {\n      // 1. Registrar Service Worker\n      const registration = await registerServiceWorker();\n      if (!registration) {\n        throw new Error('No s\\'ha pogut registrar el Service Worker');\n      }\n\n      // 2. Sol·licitar permís\n      const permission = await requestNotificationPermission();\n      if (permission !== 'granted') {\n        console.log('[WebPush] Permís de notificacions no concedit');\n        return false;\n      }\n\n      // 3. Obtenir clau VAPID\n      const vapidPublicKey = await getVapidPublicKey();\n      if (!vapidPublicKey) {\n        throw new Error('No s\\'ha pogut obtenir la clau VAPID');\n      }\n\n      // 4. Crear subscripció push\n      const subscription = await registration.pushManager.subscribe({\n        userVisibleOnly: true,\n        applicationServerKey: urlBase64ToUint8Array(vapidPublicKey)\n      });\n      console.log('[WebPush] Subscripció creada:', subscription.endpoint);\n\n      // 5. Enviar subscripció al servidor\n      const subscriptionJson = subscription.toJSON();\n      const apiBase = getApiBase();\n      const response = await fetch(`${apiBase}/web-push/subscribe`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': authToken\n        },\n        body: JSON.stringify({\n          endpoint: subscription.endpoint,\n          keys: {\n            p256dh: subscriptionJson.keys?.p256dh,\n            auth: subscriptionJson.keys?.auth\n          }\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Error guardant subscripció al servidor');\n      }\n\n      // 6. Guardar estat local\n      await AsyncStorage.default.setItem('web_push_subscribed', 'true');\n      console.log('[WebPush] ✅ Subscripció completada amb èxit');\n      return true;\n    } catch (error) {\n      console.error('[WebPush] Error subscrivint:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Dessubscriu l'usuari de les notificacions Web Push\n   */\n  async function unsubscribeFromWebPush(authToken) {\n    if (Platform.default.OS !== 'web') return false;\n    try {\n      const registration = await navigator.serviceWorker.ready;\n      const subscription = await registration.pushManager.getSubscription();\n      if (subscription) {\n        await subscription.unsubscribe();\n      }\n\n      // Eliminar del servidor\n      const apiBase = getApiBase();\n      await fetch(`${apiBase}/web-push/unsubscribe`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': authToken\n        }\n      });\n      await AsyncStorage.default.removeItem('web_push_subscribed');\n      console.log('[WebPush] Dessubscrit correctament');\n      return true;\n    } catch (error) {\n      console.error('[WebPush] Error dessubscrivint:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Verifica si l'usuari ja està subscrit\n   */\n  async function isSubscribedToWebPush() {\n    if (Platform.default.OS !== 'web' || !('serviceWorker' in navigator)) {\n      return false;\n    }\n    try {\n      const registration = await navigator.serviceWorker.ready;\n      const subscription = await registration.pushManager.getSubscription();\n      return subscription !== null;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  /**\n   * Inicialitza Web Push automàticament si l'usuari ja ha donat permís\n   */\n  async function initWebPushIfPermitted(authToken) {\n    if (!isWebPushSupported()) return;\n    const permission = getNotificationPermission();\n    if (permission === 'granted') {\n      const isSubscribed = await isSubscribedToWebPush();\n      if (!isSubscribed) {\n        console.log('[WebPush] Re-subscrivint usuari amb permís existent...');\n        await subscribeToWebPush(authToken);\n      }\n    }\n  }\n});","lineCount":251,"map":[[12,2,45,0,"exports"],[12,9,45,0],[12,10,45,0,"isWebPushSupported"],[12,28,45,0],[12,31,45,0,"isWebPushSupported"],[12,49,45,0],[13,2,58,0,"exports"],[13,9,58,0],[13,10,58,0,"getNotificationPermission"],[13,35,58,0],[13,38,58,0,"getNotificationPermission"],[13,63,58,0],[14,2,66,0,"exports"],[14,9,66,0],[14,10,66,0,"registerServiceWorker"],[14,31,66,0],[14,34,66,0,"registerServiceWorker"],[14,55,66,0],[15,2,88,0,"exports"],[15,9,88,0],[15,10,88,0,"requestNotificationPermission"],[15,39,88,0],[15,42,88,0,"requestNotificationPermission"],[15,71,88,0],[16,2,101,0,"exports"],[16,9,101,0],[16,10,101,0,"getVapidPublicKey"],[16,27,101,0],[16,30,101,0,"getVapidPublicKey"],[16,47,101,0],[17,2,120,0,"exports"],[17,9,120,0],[17,10,120,0,"subscribeToWebPush"],[17,28,120,0],[17,31,120,0,"subscribeToWebPush"],[17,49,120,0],[18,2,191,0,"exports"],[18,9,191,0],[18,10,191,0,"unsubscribeFromWebPush"],[18,32,191,0],[18,35,191,0,"unsubscribeFromWebPush"],[18,57,191,0],[19,2,225,0,"exports"],[19,9,225,0],[19,10,225,0,"isSubscribedToWebPush"],[19,31,225,0],[19,34,225,0,"isSubscribedToWebPush"],[19,55,225,0],[20,2,242,0,"exports"],[20,9,242,0],[20,10,242,0,"initWebPushIfPermitted"],[20,32,242,0],[20,35,242,0,"initWebPushIfPermitted"],[20,57,242,0],[21,2,253,1],[21,6,253,1,"_expoVirtualEnv"],[21,21,253,1],[21,24,253,1,"require"],[21,31,253,1],[21,32,253,1,"_dependencyMap"],[21,46,253,1],[22,2,253,1],[22,6,253,1,"_reactNativeWebDistExportsPlatform"],[22,40,253,1],[22,43,253,1,"require"],[22,50,253,1],[22,51,253,1,"_dependencyMap"],[22,65,253,1],[23,2,253,1],[23,6,253,1,"Platform"],[23,14,253,1],[23,17,253,1,"_interopDefault"],[23,32,253,1],[23,33,253,1,"_reactNativeWebDistExportsPlatform"],[23,67,253,1],[24,2,7,0],[24,6,7,0,"_reactNativeAsyncStorageAsyncStorage"],[24,42,7,0],[24,45,7,0,"require"],[24,52,7,0],[24,53,7,0,"_dependencyMap"],[24,67,7,0],[25,2,7,0],[25,6,7,0,"AsyncStorage"],[25,18,7,0],[25,21,7,0,"_interopDefault"],[25,36,7,0],[25,37,7,0,"_reactNativeAsyncStorageAsyncStorage"],[25,73,7,0],[26,2,8,0],[26,6,8,0,"_expoConstants"],[26,20,8,0],[26,23,8,0,"require"],[26,30,8,0],[26,31,8,0,"_dependencyMap"],[26,45,8,0],[27,2,8,0],[27,6,8,0,"Constants"],[27,15,8,0],[27,18,8,0,"_interopDefault"],[27,33,8,0],[27,34,8,0,"_expoConstants"],[27,48,8,0],[28,2,1,0],[29,0,2,0],[30,0,3,0],[31,0,4,0],[33,2,10,0],[34,2,11,0],[34,8,11,6,"getApiBase"],[34,18,11,16],[34,21,11,19,"getApiBase"],[34,22,11,19],[34,27,11,33],[35,4,12,2],[36,4,13,2],[36,10,13,8,"envUrl"],[36,16,13,14],[36,19,13,17,"Constants"],[36,28,13,26],[36,29,13,26,"default"],[36,36,13,26],[36,37,13,27,"expoConfig"],[36,47,13,37],[36,49,13,39,"extra"],[36,54,13,44],[36,56,13,46,"EXPO_PUBLIC_BACKEND_URL"],[36,79,13,69],[36,83,13,69,"_expoVirtualEnv"],[36,98,13,69],[36,99,13,69,"env"],[36,102,13,69],[36,103,13,69,"EXPO_PUBLIC_BACKEND_URL"],[36,126,14,52],[37,4,16,2],[37,8,16,6,"envUrl"],[37,14,16,12],[37,16,16,14],[38,6,17,4],[38,13,17,11],[38,16,17,14,"envUrl"],[38,22,17,20],[38,28,17,26],[39,4,18,2],[41,4,20,2],[42,4,21,2],[42,11,21,9],[42,17,21,15],[43,2,22,0],[43,3,22,1],[45,2,24,0],[46,0,25,0],[47,0,26,0],[48,2,27,0],[48,11,27,9,"urlBase64ToUint8Array"],[48,32,27,30,"urlBase64ToUint8Array"],[48,33,27,31,"base64String"],[48,45,27,51],[48,47,27,65],[49,4,28,2],[49,10,28,8,"padding"],[49,17,28,15],[49,20,28,18],[49,23,28,21],[49,24,28,22,"repeat"],[49,30,28,28],[49,31,28,29],[49,32,28,30],[49,33,28,31],[49,36,28,34,"base64String"],[49,48,28,46],[49,49,28,47,"length"],[49,55,28,53],[49,58,28,56],[49,59,28,57],[49,63,28,61],[49,64,28,62],[49,65,28,63],[50,4,29,2],[50,10,29,8,"base64"],[50,16,29,14],[50,19,29,17],[50,20,29,18,"base64String"],[50,32,29,30],[50,35,29,33,"padding"],[50,42,29,40],[50,44,30,5,"replace"],[50,51,30,12],[50,52,30,13],[50,56,30,17],[50,58,30,19],[50,61,30,22],[50,62,30,23],[50,63,31,5,"replace"],[50,70,31,12],[50,71,31,13],[50,75,31,17],[50,77,31,19],[50,80,31,22],[50,81,31,23],[51,4,33,2],[51,10,33,8,"rawData"],[51,17,33,15],[51,20,33,18,"window"],[51,26,33,24],[51,27,33,25,"atob"],[51,31,33,29],[51,32,33,30,"base64"],[51,38,33,36],[51,39,33,37],[52,4,34,2],[52,10,34,8,"outputArray"],[52,21,34,19],[52,24,34,22],[52,28,34,26,"Uint8Array"],[52,38,34,36],[52,39,34,37,"rawData"],[52,46,34,44],[52,47,34,45,"length"],[52,53,34,51],[52,54,34,52],[53,4,36,2],[53,9,36,7],[53,13,36,11,"i"],[53,14,36,12],[53,17,36,15],[53,18,36,16],[53,20,36,18,"i"],[53,21,36,19],[53,24,36,22,"rawData"],[53,31,36,29],[53,32,36,30,"length"],[53,38,36,36],[53,40,36,38],[53,42,36,40,"i"],[53,43,36,41],[53,45,36,43],[54,6,37,4,"outputArray"],[54,17,37,15],[54,18,37,16,"i"],[54,19,37,17],[54,20,37,18],[54,23,37,21,"rawData"],[54,30,37,28],[54,31,37,29,"charCodeAt"],[54,41,37,39],[54,42,37,40,"i"],[54,43,37,41],[54,44,37,42],[55,4,38,2],[56,4,39,2],[56,11,39,9,"outputArray"],[56,22,39,20],[57,2,40,0],[59,2,42,0],[60,0,43,0],[61,0,44,0],[62,2,45,7],[62,11,45,16,"isWebPushSupported"],[62,29,45,34,"isWebPushSupported"],[62,30,45,34],[62,32,45,46],[63,4,46,2],[63,8,46,6,"Platform"],[63,16,46,14],[63,17,46,14,"default"],[63,24,46,14],[63,25,46,15,"OS"],[63,27,46,17],[63,32,46,22],[63,37,46,27],[63,39,46,29],[63,46,46,36],[63,51,46,41],[64,4,48,2],[64,11,49,4],[64,26,49,19],[64,30,49,23,"navigator"],[64,39,49,32],[64,43,50,4],[64,56,50,17],[64,60,50,21,"window"],[64,66,50,27],[64,70,51,4],[64,84,51,18],[64,88,51,22,"window"],[64,94,51,28],[65,2,53,0],[67,2,55,0],[68,0,56,0],[69,0,57,0],[70,2,58,7],[70,11,58,16,"getNotificationPermission"],[70,36,58,41,"getNotificationPermission"],[70,37,58,41],[70,39,58,75],[71,4,59,2],[71,8,59,6,"Platform"],[71,16,59,14],[71,17,59,14,"default"],[71,24,59,14],[71,25,59,15,"OS"],[71,27,59,17],[71,32,59,22],[71,37,59,27],[71,41,59,31],[71,43,59,33],[71,57,59,47],[71,61,59,51,"window"],[71,67,59,57],[71,68,59,58],[71,70,59,60],[71,77,59,67],[71,81,59,71],[72,4,60,2],[72,11,60,9,"Notification"],[72,23,60,21],[72,24,60,22,"permission"],[72,34,60,32],[73,2,61,0],[75,2,63,0],[76,0,64,0],[77,0,65,0],[78,2,66,7],[78,17,66,22,"registerServiceWorker"],[78,38,66,43,"registerServiceWorker"],[78,39,66,43],[78,41,66,89],[79,4,67,2],[79,8,67,6,"Platform"],[79,16,67,14],[79,17,67,14,"default"],[79,24,67,14],[79,25,67,15,"OS"],[79,27,67,17],[79,32,67,22],[79,37,67,27],[79,41,67,31],[79,43,67,33],[79,58,67,48],[79,62,67,52,"navigator"],[79,71,67,61],[79,72,67,62],[79,74,67,64],[80,6,68,4,"console"],[80,13,68,11],[80,14,68,12,"log"],[80,17,68,15],[80,18,68,16],[80,56,68,54],[80,57,68,55],[81,6,69,4],[81,13,69,11],[81,17,69,15],[82,4,70,2],[83,4,72,2],[83,8,72,6],[84,6,73,4],[84,12,73,10,"registration"],[84,24,73,22],[84,27,73,25],[84,33,73,31,"navigator"],[84,42,73,40],[84,43,73,41,"serviceWorker"],[84,56,73,54],[84,57,73,55,"register"],[84,65,73,63],[84,66,73,64],[84,74,73,72],[84,76,73,74],[85,8,74,6,"scope"],[85,13,74,11],[85,15,74,13],[86,6,75,4],[86,7,75,5],[86,8,75,6],[87,6,77,4,"console"],[87,13,77,11],[87,14,77,12,"log"],[87,17,77,15],[87,18,77,16],[87,55,77,53],[87,57,77,55,"registration"],[87,69,77,67],[87,70,77,68,"scope"],[87,75,77,73],[87,76,77,74],[88,6,78,4],[88,13,78,11,"registration"],[88,25,78,23],[89,4,79,2],[89,5,79,3],[89,6,79,4],[89,13,79,11,"error"],[89,18,79,16],[89,20,79,18],[90,6,80,4,"console"],[90,13,80,11],[90,14,80,12,"error"],[90,19,80,17],[90,20,80,18],[90,64,80,62],[90,66,80,64,"error"],[90,71,80,69],[90,72,80,70],[91,6,81,4],[91,13,81,11],[91,17,81,15],[92,4,82,2],[93,2,83,0],[95,2,85,0],[96,0,86,0],[97,0,87,0],[98,2,88,7],[98,17,88,22,"requestNotificationPermission"],[98,46,88,51,"requestNotificationPermission"],[98,47,88,51],[98,49,88,87],[99,4,89,2],[99,8,89,6,"Platform"],[99,16,89,14],[99,17,89,14,"default"],[99,24,89,14],[99,25,89,15,"OS"],[99,27,89,17],[99,32,89,22],[99,37,89,27],[99,41,89,31],[99,43,89,33],[99,57,89,47],[99,61,89,51,"window"],[99,67,89,57],[99,68,89,58],[99,70,89,60],[100,6,90,4],[100,13,90,11],[100,21,90,19],[101,4,91,2],[102,4,93,2],[102,10,93,8,"permission"],[102,20,93,18],[102,23,93,21],[102,29,93,27,"Notification"],[102,41,93,39],[102,42,93,40,"requestPermission"],[102,59,93,57],[102,60,93,58],[102,61,93,59],[103,4,94,2,"console"],[103,11,94,9],[103,12,94,10,"log"],[103,15,94,13],[103,16,94,14],[103,52,94,50],[103,54,94,52,"permission"],[103,64,94,62],[103,65,94,63],[104,4,95,2],[104,11,95,9,"permission"],[104,21,95,19],[105,2,96,0],[107,2,98,0],[108,0,99,0],[109,0,100,0],[110,2,101,7],[110,17,101,22,"getVapidPublicKey"],[110,34,101,39,"getVapidPublicKey"],[110,35,101,39],[110,37,101,66],[111,4,102,2],[111,8,102,6],[112,6,103,4],[112,12,103,10,"apiBase"],[112,19,103,17],[112,22,103,20,"getApiBase"],[112,32,103,30],[112,33,103,31],[112,34,103,32],[113,6,104,4,"console"],[113,13,104,11],[113,14,104,12,"log"],[113,17,104,15],[113,18,104,16],[113,53,104,51],[113,55,104,53],[113,58,104,56,"apiBase"],[113,65,104,63],[113,93,104,91],[113,94,104,92],[114,6,105,4],[114,12,105,10,"response"],[114,20,105,18],[114,23,105,21],[114,29,105,27,"fetch"],[114,34,105,32],[114,35,105,33],[114,38,105,36,"apiBase"],[114,45,105,43],[114,73,105,71],[114,74,105,72],[115,6,106,4],[115,10,106,8],[115,11,106,9,"response"],[115,19,106,17],[115,20,106,18,"ok"],[115,22,106,20],[115,24,106,22],[116,8,107,6],[116,14,107,12],[116,18,107,16,"Error"],[116,23,107,21],[116,24,107,22],[116,62,107,60],[116,63,107,61],[117,6,108,4],[118,6,109,4],[118,12,109,10,"data"],[118,16,109,14],[118,19,109,17],[118,25,109,23,"response"],[118,33,109,31],[118,34,109,32,"json"],[118,38,109,36],[118,39,109,37],[118,40,109,38],[119,6,110,4],[119,13,110,11,"data"],[119,17,110,15],[119,18,110,16,"vapidPublicKey"],[119,32,110,30],[120,4,111,2],[120,5,111,3],[120,6,111,4],[120,13,111,11,"error"],[120,18,111,16],[120,20,111,18],[121,6,112,4,"console"],[121,13,112,11],[121,14,112,12,"error"],[121,19,112,17],[121,20,112,18],[121,58,112,56],[121,60,112,58,"error"],[121,65,112,63],[121,66,112,64],[122,6,113,4],[122,13,113,11],[122,17,113,15],[123,4,114,2],[124,2,115,0],[126,2,117,0],[127,0,118,0],[128,0,119,0],[129,2,120,7],[129,17,120,22,"subscribeToWebPush"],[129,35,120,40,"subscribeToWebPush"],[129,36,120,41,"authToken"],[129,45,120,58],[129,47,120,78],[130,4,121,2],[130,8,121,6],[130,9,121,7,"isWebPushSupported"],[130,27,121,25],[130,28,121,26],[130,29,121,27],[130,31,121,29],[131,6,122,4,"console"],[131,13,122,11],[131,14,122,12,"log"],[131,17,122,15],[131,18,122,16],[131,50,122,48],[131,51,122,49],[132,6,123,4],[132,13,123,11],[132,18,123,16],[133,4,124,2],[134,4,126,2],[134,8,126,6],[135,6,127,4],[136,6,128,4],[136,12,128,10,"registration"],[136,24,128,22],[136,27,128,25],[136,33,128,31,"registerServiceWorker"],[136,54,128,52],[136,55,128,53],[136,56,128,54],[137,6,129,4],[137,10,129,8],[137,11,129,9,"registration"],[137,23,129,21],[137,25,129,23],[138,8,130,6],[138,14,130,12],[138,18,130,16,"Error"],[138,23,130,21],[138,24,130,22],[138,68,130,66],[138,69,130,67],[139,6,131,4],[141,6,133,4],[142,6,134,4],[142,12,134,10,"permission"],[142,22,134,20],[142,25,134,23],[142,31,134,29,"requestNotificationPermission"],[142,60,134,58],[142,61,134,59],[142,62,134,60],[143,6,135,4],[143,10,135,8,"permission"],[143,20,135,18],[143,25,135,23],[143,34,135,32],[143,36,135,34],[144,8,136,6,"console"],[144,15,136,13],[144,16,136,14,"log"],[144,19,136,17],[144,20,136,18],[144,67,136,65],[144,68,136,66],[145,8,137,6],[145,15,137,13],[145,20,137,18],[146,6,138,4],[148,6,140,4],[149,6,141,4],[149,12,141,10,"vapidPublicKey"],[149,26,141,24],[149,29,141,27],[149,35,141,33,"getVapidPublicKey"],[149,52,141,50],[149,53,141,51],[149,54,141,52],[150,6,142,4],[150,10,142,8],[150,11,142,9,"vapidPublicKey"],[150,25,142,23],[150,27,142,25],[151,8,143,6],[151,14,143,12],[151,18,143,16,"Error"],[151,23,143,21],[151,24,143,22],[151,62,143,60],[151,63,143,61],[152,6,144,4],[154,6,146,4],[155,6,147,4],[155,12,147,10,"subscription"],[155,24,147,22],[155,27,147,25],[155,33,147,31,"registration"],[155,45,147,43],[155,46,147,44,"pushManager"],[155,57,147,55],[155,58,147,56,"subscribe"],[155,67,147,65],[155,68,147,66],[156,8,148,6,"userVisibleOnly"],[156,23,148,21],[156,25,148,23],[156,29,148,27],[157,8,149,6,"applicationServerKey"],[157,28,149,26],[157,30,149,28,"urlBase64ToUint8Array"],[157,51,149,49],[157,52,149,50,"vapidPublicKey"],[157,66,149,64],[158,6,150,4],[158,7,150,5],[158,8,150,6],[159,6,152,4,"console"],[159,13,152,11],[159,14,152,12,"log"],[159,17,152,15],[159,18,152,16],[159,49,152,47],[159,51,152,49,"subscription"],[159,63,152,61],[159,64,152,62,"endpoint"],[159,72,152,70],[159,73,152,71],[161,6,154,4],[162,6,155,4],[162,12,155,10,"subscriptionJson"],[162,28,155,26],[162,31,155,29,"subscription"],[162,43,155,41],[162,44,155,42,"toJSON"],[162,50,155,48],[162,51,155,49],[162,52,155,50],[163,6,156,4],[163,12,156,10,"apiBase"],[163,19,156,17],[163,22,156,20,"getApiBase"],[163,32,156,30],[163,33,156,31],[163,34,156,32],[164,6,157,4],[164,12,157,10,"response"],[164,20,157,18],[164,23,157,21],[164,29,157,27,"fetch"],[164,34,157,32],[164,35,157,33],[164,38,157,36,"apiBase"],[164,45,157,43],[164,66,157,64],[164,68,157,66],[165,8,158,6,"method"],[165,14,158,12],[165,16,158,14],[165,22,158,20],[166,8,159,6,"headers"],[166,15,159,13],[166,17,159,15],[167,10,160,8],[167,24,160,22],[167,26,160,24],[167,44,160,42],[168,10,161,8],[168,25,161,23],[168,27,161,25,"authToken"],[169,8,162,6],[169,9,162,7],[170,8,163,6,"body"],[170,12,163,10],[170,14,163,12,"JSON"],[170,18,163,16],[170,19,163,17,"stringify"],[170,28,163,26],[170,29,163,27],[171,10,164,8,"endpoint"],[171,18,164,16],[171,20,164,18,"subscription"],[171,32,164,30],[171,33,164,31,"endpoint"],[171,41,164,39],[172,10,165,8,"keys"],[172,14,165,12],[172,16,165,14],[173,12,166,10,"p256dh"],[173,18,166,16],[173,20,166,18,"subscriptionJson"],[173,36,166,34],[173,37,166,35,"keys"],[173,41,166,39],[173,43,166,41,"p256dh"],[173,49,166,47],[174,12,167,10,"auth"],[174,16,167,14],[174,18,167,16,"subscriptionJson"],[174,34,167,32],[174,35,167,33,"keys"],[174,39,167,37],[174,41,167,39,"auth"],[175,10,168,8],[176,8,169,6],[176,9,169,7],[177,6,170,4],[177,7,170,5],[177,8,170,6],[178,6,172,4],[178,10,172,8],[178,11,172,9,"response"],[178,19,172,17],[178,20,172,18,"ok"],[178,22,172,20],[178,24,172,22],[179,8,173,6],[179,14,173,12],[179,18,173,16,"Error"],[179,23,173,21],[179,24,173,22],[179,64,173,62],[179,65,173,63],[180,6,174,4],[182,6,176,4],[183,6,177,4],[183,12,177,10,"AsyncStorage"],[183,24,177,22],[183,25,177,22,"default"],[183,32,177,22],[183,33,177,23,"setItem"],[183,40,177,30],[183,41,177,31],[183,62,177,52],[183,64,177,54],[183,70,177,60],[183,71,177,61],[184,6,179,4,"console"],[184,13,179,11],[184,14,179,12,"log"],[184,17,179,15],[184,18,179,16],[184,63,179,61],[184,64,179,62],[185,6,180,4],[185,13,180,11],[185,17,180,15],[186,4,182,2],[186,5,182,3],[186,6,182,4],[186,13,182,11,"error"],[186,18,182,16],[186,20,182,18],[187,6,183,4,"console"],[187,13,183,11],[187,14,183,12,"error"],[187,19,183,17],[187,20,183,18],[187,50,183,48],[187,52,183,50,"error"],[187,57,183,55],[187,58,183,56],[188,6,184,4],[188,13,184,11],[188,18,184,16],[189,4,185,2],[190,2,186,0],[192,2,188,0],[193,0,189,0],[194,0,190,0],[195,2,191,7],[195,17,191,22,"unsubscribeFromWebPush"],[195,39,191,44,"unsubscribeFromWebPush"],[195,40,191,45,"authToken"],[195,49,191,62],[195,51,191,82],[196,4,192,2],[196,8,192,6,"Platform"],[196,16,192,14],[196,17,192,14,"default"],[196,24,192,14],[196,25,192,15,"OS"],[196,27,192,17],[196,32,192,22],[196,37,192,27],[196,39,192,29],[196,46,192,36],[196,51,192,41],[197,4,194,2],[197,8,194,6],[198,6,195,4],[198,12,195,10,"registration"],[198,24,195,22],[198,27,195,25],[198,33,195,31,"navigator"],[198,42,195,40],[198,43,195,41,"serviceWorker"],[198,56,195,54],[198,57,195,55,"ready"],[198,62,195,60],[199,6,196,4],[199,12,196,10,"subscription"],[199,24,196,22],[199,27,196,25],[199,33,196,31,"registration"],[199,45,196,43],[199,46,196,44,"pushManager"],[199,57,196,55],[199,58,196,56,"getSubscription"],[199,73,196,71],[199,74,196,72],[199,75,196,73],[200,6,198,4],[200,10,198,8,"subscription"],[200,22,198,20],[200,24,198,22],[201,8,199,6],[201,14,199,12,"subscription"],[201,26,199,24],[201,27,199,25,"unsubscribe"],[201,38,199,36],[201,39,199,37],[201,40,199,38],[202,6,200,4],[204,6,202,4],[205,6,203,4],[205,12,203,10,"apiBase"],[205,19,203,17],[205,22,203,20,"getApiBase"],[205,32,203,30],[205,33,203,31],[205,34,203,32],[206,6,204,4],[206,12,204,10,"fetch"],[206,17,204,15],[206,18,204,16],[206,21,204,19,"apiBase"],[206,28,204,26],[206,51,204,49],[206,53,204,51],[207,8,205,6,"method"],[207,14,205,12],[207,16,205,14],[207,24,205,22],[208,8,206,6,"headers"],[208,15,206,13],[208,17,206,15],[209,10,207,8],[209,25,207,23],[209,27,207,25,"authToken"],[210,8,208,6],[211,6,209,4],[211,7,209,5],[211,8,209,6],[212,6,211,4],[212,12,211,10,"AsyncStorage"],[212,24,211,22],[212,25,211,22,"default"],[212,32,211,22],[212,33,211,23,"removeItem"],[212,43,211,33],[212,44,211,34],[212,65,211,55],[212,66,211,56],[213,6,213,4,"console"],[213,13,213,11],[213,14,213,12,"log"],[213,17,213,15],[213,18,213,16],[213,54,213,52],[213,55,213,53],[214,6,214,4],[214,13,214,11],[214,17,214,15],[215,4,216,2],[215,5,216,3],[215,6,216,4],[215,13,216,11,"error"],[215,18,216,16],[215,20,216,18],[216,6,217,4,"console"],[216,13,217,11],[216,14,217,12,"error"],[216,19,217,17],[216,20,217,18],[216,53,217,51],[216,55,217,53,"error"],[216,60,217,58],[216,61,217,59],[217,6,218,4],[217,13,218,11],[217,18,218,16],[218,4,219,2],[219,2,220,0],[221,2,222,0],[222,0,223,0],[223,0,224,0],[224,2,225,7],[224,17,225,22,"isSubscribedToWebPush"],[224,38,225,43,"isSubscribedToWebPush"],[224,39,225,43],[224,41,225,64],[225,4,226,2],[225,8,226,6,"Platform"],[225,16,226,14],[225,17,226,14,"default"],[225,24,226,14],[225,25,226,15,"OS"],[225,27,226,17],[225,32,226,22],[225,37,226,27],[225,41,226,31],[225,43,226,33],[225,58,226,48],[225,62,226,52,"navigator"],[225,71,226,61],[225,72,226,62],[225,74,226,64],[226,6,227,4],[226,13,227,11],[226,18,227,16],[227,4,228,2],[228,4,230,2],[228,8,230,6],[229,6,231,4],[229,12,231,10,"registration"],[229,24,231,22],[229,27,231,25],[229,33,231,31,"navigator"],[229,42,231,40],[229,43,231,41,"serviceWorker"],[229,56,231,54],[229,57,231,55,"ready"],[229,62,231,60],[230,6,232,4],[230,12,232,10,"subscription"],[230,24,232,22],[230,27,232,25],[230,33,232,31,"registration"],[230,45,232,43],[230,46,232,44,"pushManager"],[230,57,232,55],[230,58,232,56,"getSubscription"],[230,73,232,71],[230,74,232,72],[230,75,232,73],[231,6,233,4],[231,13,233,11,"subscription"],[231,25,233,23],[231,30,233,28],[231,34,233,32],[232,4,234,2],[232,5,234,3],[232,6,234,4],[232,13,234,11,"error"],[232,18,234,16],[232,20,234,18],[233,6,235,4],[233,13,235,11],[233,18,235,16],[234,4,236,2],[235,2,237,0],[237,2,239,0],[238,0,240,0],[239,0,241,0],[240,2,242,7],[240,17,242,22,"initWebPushIfPermitted"],[240,39,242,44,"initWebPushIfPermitted"],[240,40,242,45,"authToken"],[240,49,242,62],[240,51,242,79],[241,4,243,2],[241,8,243,6],[241,9,243,7,"isWebPushSupported"],[241,27,243,25],[241,28,243,26],[241,29,243,27],[241,31,243,29],[242,4,245,2],[242,10,245,8,"permission"],[242,20,245,18],[242,23,245,21,"getNotificationPermission"],[242,48,245,46],[242,49,245,47],[242,50,245,48],[243,4,246,2],[243,8,246,6,"permission"],[243,18,246,16],[243,23,246,21],[243,32,246,30],[243,34,246,32],[244,6,247,4],[244,12,247,10,"isSubscribed"],[244,24,247,22],[244,27,247,25],[244,33,247,31,"isSubscribedToWebPush"],[244,54,247,52],[244,55,247,53],[244,56,247,54],[245,6,248,4],[245,10,248,8],[245,11,248,9,"isSubscribed"],[245,23,248,21],[245,25,248,23],[246,8,249,6,"console"],[246,15,249,13],[246,16,249,14,"log"],[246,19,249,17],[246,20,249,18],[246,76,249,74],[246,77,249,75],[247,8,250,6],[247,14,250,12,"subscribeToWebPush"],[247,32,250,30],[247,33,250,31,"authToken"],[247,42,250,40],[247,43,250,41],[248,6,251,4],[249,4,252,2],[250,2,253,0],[251,0,253,1],[251,3]],"functionMap":{"names":["<global>","getApiBase","urlBase64ToUint8Array","isWebPushSupported","getNotificationPermission","registerServiceWorker","requestNotificationPermission","getVapidPublicKey","subscribeToWebPush","unsubscribeFromWebPush","isSubscribedToWebPush","initWebPushIfPermitted"],"mappings":"AAA;mBCU;CDW;AEK;CFa;OGK;CHQ;OIK;CJG;OKK;CLiB;OMK;CNQ;OOK;CPc;OQK;CRkE;OSK;CT6B;OUK;CVY;OWK;CXW"},"hasCjsExports":false},"type":"js/module"}]}